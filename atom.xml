<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小胡不甘平凡</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-02-24T09:19:03.428Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>小胡</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>浅谈Lambda表达式</title>
    <link href="http://example.com/2021/02/12/lambda/"/>
    <id>http://example.com/2021/02/12/lambda/</id>
    <published>2021-02-12T07:21:01.000Z</published>
    <updated>2021-02-24T09:19:03.428Z</updated>
    
    <content type="html"><![CDATA[<h2 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h2><p>首先需要理解Functional Interface（函数式接口），就是只包含一个方法的接口</p><p>比如Runnable接口的定义</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于函数式接口，我们可以使用lambda表达式来创建该接口的对象。</p><p>为什么要使用lambda表达式？</p><ul><li>避免内部类定义过多</li><li>可以让你的代码看起来很简洁</li><li>去掉了一堆没有意义的代码</li></ul><p>lambda推导过程</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">//推导lambda表达式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLambda</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//静态内部类</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Like2</span> <span class="keyword">implements</span> <span class="title">Ilike</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lambda</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;I like lambda2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实现类的实例化</span></span><br><span class="line">        Ilike like = <span class="keyword">new</span> Like();</span><br><span class="line">        like.lambda();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//静态类的实例化</span></span><br><span class="line">        like = <span class="keyword">new</span> Like2();</span><br><span class="line">        like.lambda();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//局部内部类的实现</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Like3</span> <span class="keyword">implements</span> <span class="title">Ilike</span> </span>&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lambda</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;I like lambda3&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        like = <span class="keyword">new</span> Like3();</span><br><span class="line">        like.lambda();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//匿名内部类</span></span><br><span class="line">        like = <span class="keyword">new</span> Ilike() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lambda</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;I like lambda4&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        like.lambda();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用lambda表达式进行简化</span></span><br><span class="line">        like = () -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;I like lambda5&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        like.lambda();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Ilike</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lambda</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Like</span> <span class="keyword">implements</span> <span class="title">Ilike</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lambda</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;I like lambda1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>lambda简化</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLambda2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Ilove love = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">//lambda表达式</span></span><br><span class="line">        love = (<span class="keyword">int</span> a) -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;I love you--&gt;&quot;</span> + a);</span><br><span class="line">        &#125;;</span><br><span class="line">        love.lambda(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//lambda简化</span></span><br><span class="line">        love = a -&gt; System.out.println(<span class="string">&quot;I love you--&gt;&quot;</span> + a);</span><br><span class="line">        love.lambda(<span class="number">500</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Ilove</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">lambda</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>简化需要注意：</p><ul><li>lambda表达式只能有一行代码的情况下才能省略大括号</li><li>多个参数也可以去掉参数类型，但是要一起去掉</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;lambda表达式&quot;&gt;&lt;a href=&quot;#lambda表达式&quot; class=&quot;headerlink&quot; title=&quot;lambda表达式&quot;&gt;&lt;/a&gt;lambda表达式&lt;/h2&gt;&lt;p&gt;首先需要理解Functional Interface（函数式接口），就是只包含一个方</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="lambda" scheme="http://example.com/tags/lambda/"/>
    
  </entry>
  
  <entry>
    <title>JAVA代理方式</title>
    <link href="http://example.com/2021/02/10/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/"/>
    <id>http://example.com/2021/02/10/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/</id>
    <published>2021-02-10T09:30:01.000Z</published>
    <updated>2021-02-24T09:20:25.474Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java中三种代理方式——-静态代理与两种动态代理的实现原理和方法"><a href="#Java中三种代理方式——-静态代理与两种动态代理的实现原理和方法" class="headerlink" title="Java中三种代理方式—— 静态代理与两种动态代理的实现原理和方法"></a>Java中三种代理方式—— 静态代理与两种动态代理的实现原理和方法</h1><h2 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h2><p>代理（Proxy）是一种设计模式，提供了对目标对象另外的访问方式，即通过代理对象访问目标对象，这样做的好处是：可以再目标对象实现的基础上，增加额外的功能操作，即扩展目标对象的功能。</p><p>举个例子来说明代理的作用，假设我们想邀请一位明星，那么并不是直接链接明星，而是联系明星的经纪人，来达到同样的目的，明星就是一个目标对象，他只要负责活动中的节目，而其他事情就交给他的代理人来解决，这就是代理思想早期显示中的一个例子。</p><h3 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h3><p>静态代理在使用时，需要定义接口或者父类，被代理对象与代理对象一起实现相同的接口或者是继承相同父类。</p><p>下面使用一个案例来解释如何使用静态代理：</p><p>模拟修改个人信息的动作，定义一个修改动作的接口：IPersonDao.java，然后目标对象实现这个接口的方法PersonDao.java，此时如果使用静态代理方式，就需要在代理对象（PersonDaoProxy.java）中也实现IPersonDao.java接口，调用的时候通过调用代理对象的方法来调用目标对象。（注：代理对象与目标对象要实现相同的接口，然后通过调用相同的方法来调用目标对象的方法）</p><p>接口：IPersonDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IPersonDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>目标对象：PersonDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonDao</span> <span class="keyword">implements</span> <span class="title">IPersonDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;修改个人信息&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代理对象：PersonDaoProxy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonDaoProxy</span> <span class="keyword">implements</span> <span class="title">IpersonDao</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IpersonDao target;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonDaoProxy</span> <span class="params">(IpersonDao target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;修改个人信息前记录日志&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.target.update();</span><br><span class="line">        System.out.println(<span class="string">&quot;修改个人信息后记录日志&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主函数调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> statci <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PersonDaoProxy personDaoProxy = <span class="keyword">new</span> PersonDaoProxy(<span class="keyword">new</span> PersonDao());</span><br><span class="line">        personDaoProxy.update();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>静态代理总结：</p><ul><li>真实对象和代理对象都要事项同一个接口</li><li>代理对象要代理真实角色</li></ul><h2 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h2><p>动态代理有以下特点：</p><ol><li>代理对象，不需要实现接口</li><li>代理对象的生成，是利用JDK的API，动态的内存中构建代理对象（需要我们指定创建代理/目标对象实现的接口的类型）</li><li>动态代理也叫做：JDK代理，接口代理</li></ol><p>JDK中生成代理对象的API</p><p>代理类所在包：java.lang.reflect.Proxy</p><p>JDK实现代理只需要使用newProxyInstance方法，但是该方法需要接收三个参数，完整的写法是：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> Object <span class="title">newProxyInstance</span><span class="params">(classLoader loader,Class&lt;?&gt;[] interfaces,InvocationHandler h)</span></span></span><br></pre></td></tr></table></figure><p>接口类IPersonDao.java以及接口实现类，目标对象PersonDao是一样的，没有做修改，在这个基础上，增加一个代理工厂类（ProxyFactory.java），将代理类写在这个地方，然后在测试类（需要使用到代理的代码）中先建立目标对象和代理对象的联系，然后使用代理对象的中同名方法。</p><p>InvocationHandler实现类：PersonInvocation.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonInvocation</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    Object target;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonInvocation</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] arg2)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        System.out.println(<span class="string">&quot;修改个人信息前记录日志&quot;</span>);</span><br><span class="line">        method.invoke(target);</span><br><span class="line">        System.out.println(<span class="string">&quot;修改个人信息后记录日志&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​    代理类：PersonProxy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonProxy</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line">    <span class="keyword">private</span> InvocationHandler ph;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonProxy</span><span class="params">(Object target, InvocationHandler ph)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">        <span class="keyword">this</span>.ph = ph;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getPersonProxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Object p = Proxy.newProxyInstance(target.getclass().getClassLoader(),target.getClass().getInterfaces(),ph);</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果业务不复杂也可以将InvocationHandler的实现类写入Proxy类中；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonProxy</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line">    <span class="keyword">private</span> InvocationHandler ph;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonProxy</span><span class="params">(Object target,InvocationHandler ph)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">        <span class="keyword">this</span>.ph = ph;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getPersonProxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Object p = Proxy.newProxyInstance(target.getClass().getClassLoader(),target.getClass().<span class="function">getInterfacesnew <span class="title">InvocationHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;开始事务2&quot;</span>);</span><br><span class="line">                <span class="comment">//执行目标对象方法</span></span><br><span class="line">                Object returnValue = method.invoke(target, args);</span><br><span class="line">                System.out.println(<span class="string">&quot;提交事务2&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> returnValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="keyword">return</span> p;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试类：APP.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 目标对象</span></span><br><span class="line">        IUserDao target = <span class="keyword">new</span> UserDao();</span><br><span class="line">        <span class="comment">// 【原始的类型 class cn.itcast.b_dynamic.UserDao】</span></span><br><span class="line">        System.out.println(target.getClass());</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// 给目标对象，创建代理对象</span></span><br><span class="line">        IUserDao proxy = (IUserDao) <span class="keyword">new</span> ProxyFactory(target).getProxyInstance();</span><br><span class="line">        <span class="comment">// class $Proxy0   内存中动态生成的代理对象</span></span><br><span class="line">        System.out.println(proxy.getClass());</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// 执行方法   【代理对象】</span></span><br><span class="line">        proxy.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结:</p><p>代理对象不需要实现接口,但是目标对象一定要实现接口,否则不能用动态代理</p><h2 id="Cglib代理"><a href="#Cglib代理" class="headerlink" title="Cglib代理"></a>Cglib代理</h2><p>上面的静态代理和动态代理模式都是要求目标对象是实现一个接口的目标对象,但是有时候目标对象只是一个单独的对象,并没有实现任何的接口,这个时候就可以使用以目标对象子类的方式类实现代理,这种方法就叫做:Cglib代理</p><p>Cglib代理,也叫作子类代理,它是在内存中构建一个子类对象从而实现对目标对象功能的扩展.</p><ul><li>JDK的动态代理有一个限制,就是使用动态代理的对象必须实现一个或多个接口,如果想代理没有实现接口的类,就可以使用Cglib实现.</li><li>Cglib是一个强大的高性能的代码生成包,它可以在运行期扩展java类与实现java接口.它广泛的被许多AOP的框架使用,例如Spring AOP和synaop,为他们提供方法的interception(拦截)</li><li>Cglib包的底层是通过使用一个小而块的字节码处理框架ASM来转换字节码并生成新的类.不鼓励直接使用ASM,因为它要求你必须对JVM内部结构包括class文件的格式和指令集都很熟悉.</li></ul><p>Cglib子类代理实现方法:</p><p>1.需要引入cglib的jar文件,但是Spring的核心包中已经包括了Cglib功能,所以直接在Mava中添加<code>pring-core.jar</code>即可.如果非maven工程需要引入cglib.jar 和asm.jar;</p><p><img src="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210128221608884.png" class="lazyload" data-srcset="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210128221608884.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210128221608884"></p><p>2.引入功能包后,就可以在内存中动态构建子类<br>3.代理的类不能为final,否则报错<br>4.目标对象的方法如果为final/static,那么就不会被拦截,即不会执行目标对象额外的业务方法.</p><p>代码实例：</p><p>目标对象类：PersonDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonDao</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">System.out.println(<span class="string">&quot;修改个人信息&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Cglib代理工厂:ProxyFactory.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> Object target;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ProxyFactory</span><span class="params">(Object target)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.target = target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给目标对象创建一个代理对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getProxyInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//工具类</span></span><br><span class="line">Enhancer en = <span class="keyword">new</span> Enhancer();</span><br><span class="line"><span class="comment">//设置父类</span></span><br><span class="line">en.setSuperclass(target.getClass());</span><br><span class="line"><span class="comment">//设置回调函数</span></span><br><span class="line">en.setCallback(<span class="keyword">this</span>);</span><br><span class="line"><span class="comment">//创建子类代理对象</span></span><br><span class="line"><span class="keyword">return</span> en.create();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object obj, Method method, Object[] arg2,MethodProxy proxy)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">System.out.println(<span class="string">&quot;开始事务...&quot;</span>);</span><br><span class="line">Object returnValue = method.invoke(target, arg2);</span><br><span class="line">System.out.println(<span class="string">&quot;提交事务...&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> returnValue;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">PersonDao target = <span class="keyword">new</span> PersonDao();</span><br><span class="line">ProxyFactory proxy = <span class="keyword">new</span> ProxyFactory(target);</span><br><span class="line">PersonDao personPproxy = (PersonDao)proxy.getProxyInstance();</span><br><span class="line"><span class="comment">//PersonDao personPproxy = (PersonDao)new ProxyFactory(target).getProxyInstance();</span></span><br><span class="line">personPproxy.update();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在Spring的AOP编程中:<br>如果加入容器的目标对象有实现接口，用JDK代理，如果目标对象没有实现接口,用Cglib代理。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Java中三种代理方式——-静态代理与两种动态代理的实现原理和方法&quot;&gt;&lt;a href=&quot;#Java中三种代理方式——-静态代理与两种动态代理的实现原理和方法&quot; class=&quot;headerlink&quot; title=&quot;Java中三种代理方式—— 静态代理与两种动态代理的</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="代理方式" scheme="http://example.com/tags/%E4%BB%A3%E7%90%86%E6%96%B9%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JAVA多线程面试题</title>
    <link href="http://example.com/2021/02/05/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>http://example.com/2021/02/05/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
    <published>2021-02-05T05:27:01.000Z</published>
    <updated>2021-02-24T09:17:31.893Z</updated>
    
    <content type="html"><![CDATA[<p>1、并发编程三要素？</p><p>1）原子性</p><p>原子性指的是一个或者多个操作，要么全部执行并且在执行的过程中不被其他操作打断，要么就全部都不执行。</p><p>2）可见性</p><p>可见性指多个线程操作一个共享变量时，其中一个线程对变量进行修改后，其他线程可以立即看到修改的结果。</p><p>3）有序性</p><p>有序性，即程序的执行顺序按照代码的先后顺序来执行。</p><p>2、实现可见性的方法有哪些？</p><p>synchronized或者Lock：保证同一个时刻只有一个线程获取锁执行代码，锁释放之前把最新的值刷新到主内存，实现可见性。</p><p>3、多线程的价值？</p><p>1）发挥多核CPU的优势</p><p>多线程，可以真正发挥出多核CPU的优势来，达到充分利用CPU的目的，采用多线程的方式去同时完成几件事情而不互相干扰。</p><p>2）防止阻塞</p><p>从程序运行效率的角度来看，单核CPU不但不会发挥出多线程的优势，反而会因为在单核CPU上运行多线程导致线程上下文的切换，而降低程序整体的效率。但是单核CPU我们还是要应用多线程，就是为了防止阻塞。试想，如果单核CPU使用单线程，那么只要这个线程阻塞了，比方说远程读取某个数据吧，对端迟迟未返回又没有设置超时时间，那么你的整个程序在数据返回回来之前就停止运行了。多线程可以防止这个问题，多条线程同时运行，哪怕一条线程的代码执行读取数据阻塞，也不会影响其它任务的执行。</p><p>3）便于建模</p><p>这是另外一个没有这么明显的优点了。假设有一个大的任务A，单线程编程，那么就要考虑很多，建立整个程序模型比较麻烦。但是如果把这个大的任务A分解成几个小任务，任务B、任务C、任务D，分别建立程序模型，并通过多线程分别运行这几个任务，那就简单很多了。</p><p>4、创建线程的有哪些方式？</p><p>1）继承Thread类创建线程类</p><p>2）通过Runnable接口创建线程类</p><p>3）通过Callable和Future创建线程</p><p>4）通过线程池创建</p><p>5、创建线程的三种方式的对比？</p><p>1）采用实现Runnable、Callable接口的方式创建多线程。</p><p>优势是：</p><p>线程类只是实现了Runnable接口或Callable接口，还可以继承其他类。</p><p>在这种方式下，多个线程可以共享同一个target对象，所以非常适合多个相同线程来处理同一份资源的情况，从而可以将CPU、代码和数据分开，形成清晰的模型，较好地体现了面向对象的思想。</p><p>劣势是：</p><p>编程稍微复杂，如果要访问当前线程，则必须使用Thread.currentThread()方法。</p><p>2）使用继承Thread类的方式创建多线程</p><p>优势是：</p><p>编写简单，如果需要访问当前线程，则无需使用Thread.currentThread()方法，直接使用this即可获得当前线程。</p><p>劣势是：</p><p>线程类已经继承了Thread类，所以不能再继承其他父类。</p><p>3）Runnable和Callable的区别</p><p>Callable规定（重写）的方法是call()，Runnable规定（重写）的方法是run()。<br>Callable的任务执行后可返回值，而Runnable的任务是不能返回值的。<br>Call方法可以抛出异常，run方法不可以。<br>运行Callable任务可以拿到一个Future对象，表示异步计算的结果。它提供了检查计算是否完成的方法，以等待计算的完成，并检索计算的结果。通过Future对象可以了解任务执行情况，可取消任务的执行，还可获取执行结果。</p><p>6、线程的状态流转图</p><p>线程的生命周期及五种基本状态：</p><p>7、Java线程具有五中基本状态</p><p>1）新建状态（New）：当线程对象对创建后，即进入了新建状态，如：Thread t = new MyThread()；</p><p>2）就绪状态（Runnable）：当调用线程对象的start()方法（t.start();），线程即进入就绪状态。处于就绪状态的线程，只是说明此线程已经做好了准备，随时等待CPU调度执行，并不是说执行了t.start()此线程立即就会执行；</p><p>3）运行状态（Running）：当CPU开始调度处于就绪状态的线程时，此时线程才得以真正执行，即进入到运行状态。注：就<br>绪状态是进入到运行状态的唯一入口，也就是说，线程要想进入运行状态执行，首先必须处于就绪状态中；</p><p>4）阻塞状态（Blocked）：处于运行状态中的线程由于某种原因，暂时放弃对CPU的使用权，停止执行，此时进入阻塞状态，直到其进入到就绪状态，才 有机会再次被CPU调用以进入到运行状态。</p><p>根据阻塞产生的原因不同，阻塞状态又可以分为三种：</p><p>a.等待阻塞：运行状态中的线程执行wait()方法，使本线程进入到等待阻塞状态；</p><p>b.同步阻塞 – 线程在获取synchronized同步锁失败(因为锁被其它线程所占用)，它会进入同步阻塞状态；</p><p>c.其他阻塞 – 通过调用线程的sleep()或join()或发出了I/O请求时，线程会进入到阻塞状态。当sleep()状态超时、join()等待线程终止或者超时、或者I/O处理完毕时，线程重新转入就绪状态。</p><p>5）死亡状态（Dead）：线程执行完了或者因异常退出了run()方法，该线程结束生命周期。</p><p>8、什么是线程池？有哪几种创建方式？</p><p>线程池就是提前创建若干个线程，如果有任务需要处理，线程池里的线程就会处理任务，处理完之后线程并不会被销毁，而是等待下一个任务。由于创建和销毁线程都是消耗系统资源的，所以当你想要频繁的创建和销毁线程的时候就可以考虑使用线程池来提升系统的性能。</p><p>java 提供了一个 java.util.concurrent.Executor接口的实现用于创建线程池。</p><p>9、四种线程池的创建：</p><p>1）newCachedThreadPool创建一个可缓存线程池</p><p>2）newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数。</p><p>3）newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。</p><p>4）newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务。</p><p>10、线程池的优点？</p><p>1）重用存在的线程，减少对象创建销毁的开销。</p><p>2）可有效的控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞。</p><p>3）提供定时执行、定期执行、单线程、并发数控制等功能。</p><p>11、常用的并发工具类有哪些？</p><p>CountDownLatch<br>CyclicBarrier<br>Semaphore<br>Exchanger</p><p>12、CyclicBarrier和CountDownLatch的区别</p><p>1）CountDownLatch简单的说就是一个线程等待，直到他所等待的其他线程都执行完成并且调用countDown()方法发出通知后，当前线程才可以继续执行。</p><p>2）cyclicBarrier是所有线程都进行等待，直到所有线程都准备好进入await()方法之后，所有线程同时开始执行！</p><p>3）CountDownLatch的计数器只能使用一次。而CyclicBarrier的计数器可以使用reset() 方法重置。所以CyclicBarrier能处理更为复杂的业务场景，比如如果计算发生错误，可以重置计数器，并让线程们重新执行一次。</p><p>4）CyclicBarrier还提供其他有用的方法，比如getNumberWaiting方法可以获得CyclicBarrier阻塞的线程数量。isBroken方法用来知道阻塞的线程是否被中断。如果被中断返回true，否则返回false。</p><p>13、synchronized的作用？</p><p>在Java中，synchronized关键字是用来控制线程同步的，就是在多线程的环境下，控制synchronized代码段不被多个线程同时执行。</p><p>synchronized既可以加在一段代码上，也可以加在方法上。</p><p>14、volatile关键字的作用</p><p>对于可见性，Java提供了volatile关键字来保证可见性。</p><p>当一个共享变量被volatile修饰时，它会保证修改的值会立即被更新到主存，当有其他线程需要读取时，它会去内存中读取新值。</p><p>从实践角度而言，volatile的一个重要作用就是和CAS结合，保证了原子性，详细的可以参见java.util.concurrent.atomic包下的类，比如AtomicInteger。</p><p>15、什么是CAS</p><p>CAS是compare and swap的缩写，即我们所说的比较交换。</p><p>cas是一种基于锁的操作，而且是乐观锁。在java中锁分为乐观锁和悲观锁。悲观锁是将资源锁住，等一个之前获得锁的线程释放锁之后，下一个线程才可以访问。而乐观锁采取了一种宽泛的态度，通过某种方式不加锁来处理资源，比如通过给记录加version来获取数据，性能较悲观锁有很大的提高。</p><p>CAS 操作包含三个操作数 —— 内存位置（V）、预期原值（A）和新值(B)。如果内存地址里面的值和A的值是一样的，那么就将内存里面的值更新成B。CAS是通过无限循环来获取数据的，若果在第一轮循环中，a线程获取地址里面的值被b线程修改了，那么a线程需要自旋，到下次循环才有可能机会执行。</p><p>java.util.concurrent.atomic 包下的类大多是使用CAS操作来实现的( AtomicInteger,AtomicBoolean,AtomicLong)。</p><p>16、CAS的问题</p><p>1）CAS容易造成ABA问题</p><p>一个线程a将数值改成了b，接着又改成了a，此时CAS认为是没有变化，其实是已经变化过了，而这个问题的解决方案可以使用版本号标识，每操作一次version加1。在java5中，已经提供了AtomicStampedReference来解决问题。</p><p>2） 不能保证代码块的原子性</p><p>CAS机制所保证的知识一个变量的原子性操作，而不能保证整个代码块的原子性。比如需要保证3个变量共同进行原子性的更新，就不得不使用synchronized了。</p><p>3）CAS造成CPU利用率增加</p><p>之前说过了CAS里面是一个循环判断的过程，如果线程一直没有获取到状态，cpu资源会一直被占用。</p><p>17、什么是Future？</p><p>在并发编程中，我们经常用到非阻塞的模型，在之前的多线程的三种实现中，不管是继承thread类还是实现runnable接口，都无法保证获取到之前的执行结果。通过实现Callback接口，并用Future可以来接收多线程的执行结果。</p><p>Future表示一个可能还没有完成的异步任务的结果，针对这个结果可以添加Callback以便在任务执行成功或失败后作出相应的操作。</p><p>18、什么是AQS</p><p>AQS是AbustactQueuedSynchronizer的简称，它是一个Java提高的底层同步工具类，用一个int类型的变量表示同步状态，并提供了一系列的CAS操作来管理这个同步状态。</p><p>AQS是一个用来构建锁和同步器的框架，使用AQS能简单且高效地构造出应用广泛的大量的同步器，比如我们提到的ReentrantLock，Semaphore，其他的诸如ReentrantReadWriteLock，SynchronousQueue，FutureTask等等皆是基于AQS的。</p><p>19、AQS支持两种同步方式：</p><p>1）独占式</p><p>2）共享式</p><p>这样方便使用者实现不同类型的同步组件，独占式如ReentrantLock，共享式如Semaphore，CountDownLatch，组合式的如ReentrantReadWriteLock。总之，AQS为使用提供了底层支撑，如何组装实现，使用者可以自由发挥。</p><p>20、ReadWriteLock是什么</p><p>首先明确一下，不是说ReentrantLock不好，只是ReentrantLock某些时候有局限。如果使用ReentrantLock，可能本身是为了防止线程A在写数据、线程B在读数据造成的数据不一致，但这样，如果线程C在读数据、线程D也在读数据，读数据是不会改变数据的，没有必要加锁，但是还是加锁了，降低了程序的性能。</p><p>因为这个，才诞生了读写锁ReadWriteLock。ReadWriteLock是一个读写锁接口，ReentrantReadWriteLock是ReadWriteLock接口的一个具体实现，实现了读写的分离，读锁是共享的，写锁是独占的，读和读之间不会互斥，读和写、写和读、写和写之间才会互斥，提升了读写的性能。</p><p>21、FutureTask是什么</p><p>这个其实前面有提到过，FutureTask表示一个异步运算的任务。FutureTask里面可以传入一个Callable的具体实现类，可以对这个异步运算的任务的结果进行等待获取、判断是否已经完成、取消任务等操作。当然，由于FutureTask也是Runnable接口的实现类，所以FutureTask也可以放入线程池中。</p><p>22、synchronized和ReentrantLock的区别</p><p>synchronized是和if、else、for、while一样的关键字，ReentrantLock是类，这是二者的本质区别。既然ReentrantLock是类，那么它就提供了比synchronized更多更灵活的特性，可以被继承、可以有方法、可以有各种各样的类变量，ReentrantLock比synchronized的扩展性体现在几点上：</p><p>1）ReentrantLock可以对获取锁的等待时间进行设置，这样就避免了死锁</p><p>2）ReentrantLock可以获取各种锁的信息</p><p>3）ReentrantLock可以灵活地实现多路通知</p><p>另外，二者的锁机制其实也是不一样的。ReentrantLock底层调用的是Unsafe的park方法加锁，synchronized操作的应该是对象头中mark word，这点我不能确定。</p><p>23、什么是乐观锁和悲观锁</p><p>1）乐观锁：就像它的名字一样，对于并发间操作产生的线程安全问题持乐观状态，乐观锁认为竞争不总是会发生，因此它不需要持有锁，将比较-替换这两个动作作为一个原子操作尝试去修改内存中的变量，如果失败则表示发生冲突，那么就应该有相应的重试逻辑。</p><p>2）悲观锁：还是像它的名字一样，对于并发间操作产生的线程安全问题持悲观状态，悲观锁认为竞争总是会发生，因此每次对某资源进行操作时，都会持有一个独占的锁，就像synchronized，不管三七二十一，直接上了锁就操作资源了。</p><p>24、线程B怎么知道线程A修改了变量</p><p>volatile修饰变量<br>synchronized修饰修改变量的方法<br>wait/notify<br>while轮询</p><p>25、synchronized、volatile、CAS比较</p><p>synchronized是悲观锁，属于抢占式，会引起其他线程阻塞。<br>volatile提供多线程共享变量可见性和禁止指令重排序优化。<br>CAS是基于冲突检测的乐观锁（非阻塞）</p><p>26、sleep方法和wait方法有什么区别?</p><p>这个问题常问，sleep方法和wait方法都可以用来放弃CPU一定的时间，不同点在于如果线程持有某个对象的监视器，sleep方法不会放弃这个对象的监视器，wait方法会放弃这个对象的监视器</p><p>27、ThreadLocal是什么？有什么用？</p><p>ThreadLocal是一个本地线程副本变量工具类。主要用于将私有线程和该线程存放的副本对象做一个映射，各个线程之间的变量互不干扰，在高并发场景下，可以实现无状态的调用，特别适用于各个线程依赖不通的变量值完成操作的场景。</p><p>简单说ThreadLocal就是一种以空间换时间的做法，在每个Thread里面维护了一个以开地址法实现的ThreadLocal.ThreadLocalMap，把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了。</p><p>28、为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用</p><p>这是JDK强制的，wait()方法和notify()/notifyAll()方法在调用前都必须先获得对象的锁</p><p>29、多线程同步有哪几种方法？</p><p>Synchronized关键字，Lock锁实现，分布式锁等。</p><p>30、线程的调度策略</p><p>线程调度器选择优先级最高的线程运行，但是，如果发生以下情况，就会终止线程的运行：</p><p>1）线程体中调用了yield方法让出了对cpu的占用权利</p><p>2）线程体中调用了sleep方法使线程进入睡眠状态</p><p>3）线程由于IO操作受到阻塞</p><p>4）另外一个更高优先级线程出现</p><p>5）在支持时间片的系统中，该线程的时间片用完</p><p>31、ConcurrentHashMap的并发度是什么</p><p>ConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势，任何情况下，Hashtable能同时有两条线程获取Hashtable中的数据吗？</p><p>32、Linux环境下如何查找哪个线程使用CPU最长</p><p>1）获取项目的pid，jps或者ps -ef | grep java，这个前面有讲过</p><p>2）top -H -p pid，顺序不能改变</p><p>33、Java死锁以及如何避免？</p><p>Java中的死锁是一种编程情况，其中两个或多个线程被永久阻塞，Java死锁情况出现至少两个线程和两个或更多资源。</p><p>Java发生死锁的根本原因是：在申请锁时发生了交叉闭环申请。</p><p>34、死锁的原因</p><p>1）是多个线程涉及到多个锁，这些锁存在着交叉，所以可能会导致了一个锁依赖的闭环。</p><p>例如：线程在获得了锁A并且没有释放的情况下去申请锁B，这时，另一个线程已经获得了锁B，在释放锁B之前又要先获得锁A，因此闭环发生，陷入死锁循环。</p><p>2）默认的锁申请操作是阻塞的。</p><p>所以要避免死锁，就要在一遇到多个对象锁交叉的情况，就要仔细审查这几个对象的类中的所有方法，是否存在着导致锁依赖的环路的可能性。总之是尽量避免在一个同步方法中调用其它对象的延时方法和同步方法。</p><p>35、怎么唤醒一个阻塞的线程</p><p>如果线程是因为调用了wait()、sleep()或者join()方法而导致的阻塞，可以中断线程，并且通过抛出InterruptedException来唤醒它；如果线程遇到了IO阻塞，无能为力，因为IO是操作系统实现的，Java代码并没有办法直接接触到操作系统。</p><p>36、不可变对象对多线程有什么帮助</p><p>前面有提到过的一个问题，不可变对象保证了对象的内存可见性，对不可变对象的读取不需要进行额外的同步手段，提升了代码执行效率。</p><p>37、什么是多线程的上下文切换</p><p>多线程的上下文切换是指CPU控制权由一个已经正在运行的线程切换到另外一个就绪并等待获取CPU执行权的线程的过程。</p><p>38、如果你提交任务时，线程池队列已满，这时会发生什么</p><p>这里区分一下：</p><p>1）如果使用的是无界队列LinkedBlockingQueue，也就是无界队列的话，没关系，继续添加任务到阻塞队列中等待执行，因为LinkedBlockingQueue可以近乎认为是一个无穷大的队列，可以无限存放任务</p><p>2）如果使用的是有界队列比如ArrayBlockingQueue，任务首先会被添加到ArrayBlockingQueue中，ArrayBlockingQueue满了，会根据maximumPoolSize的值增加线程数量，如果增加了线程数量还是处理不过来，ArrayBlockingQueue继续满，那么则会使用拒绝策略RejectedExecutionHandler处理满了的任务，默认是AbortPolicy</p><p>39、Java中用到的线程调度算法是什么</p><p>抢占式。一个线程用完CPU之后，操作系统会根据线程优先级、线程饥饿情况等数据算出一个总的优先级并分配下一个时间片给某个线程执行。</p><p>40、什么是线程调度器(Thread Scheduler)和时间分片(Time Slicing)？</p><p>线程调度器是一个操作系统服务，它负责为Runnable状态的线程分配CPU时间。一旦我们创建一个线程并启动它，它的执行便依赖于线程调度器的实现。时间分片是指将可用的CPU时间分配给可用的Runnable线程的过程。分配CPU时间可以基于线程优先级或者线程等待的时间。线程调度并不受到Java虚拟机控制，所以由应用程序来控制它是更好的选择（也就是说不要让你的程序依赖于线程的优先级）。</p><p>41、什么是自旋</p><p>很多synchronized里面的代码只是一些很简单的代码，执行时间非常快，此时等待的线程都加锁可能是一种不太值得的操作，因为线程阻塞涉及到用户态和内核态切换的问题。既然synchronized里面的代码执行得非常快，不妨让等待锁的线程不要被阻塞，而是在synchronized的边界做忙循环，这就是自旋。如果做了多次忙循环发现还没有获得锁，再阻塞，这样可能是一种更好的策略。</p><p>42、Java<br>Concurrency API中的Lock接口(Lock<br>interface)是什么？对比同步它有什么优势？</p><p>Lock接口比同步方法和同步块提供了更具扩展性的锁操作。他们允许更灵活的结构，可以具有完全不同的性质，并且可以支持多个相关类的条件对象。</p><p>它的优势有：</p><p>可以使锁更公平<br>可以使线程在等待锁的时候响应中断<br>可以让线程尝试获取锁，并在无法获取锁的时候立即返回或者等待一段时间<br>可以在不同的范围，以不同的顺序获取和释放锁</p><p>43、单例模式的线程安全性</p><p>老生常谈的问题了，首先要说的是单例模式的线程安全意味着：某个类的实例在多线程环境下只会被创建一次出来。单例模式有很多种的写法，我总结一下：</p><p>1）饿汉式单例模式的写法：线程安全</p><p>2）懒汉式单例模式的写法：非线程安全</p><p>3）双检锁单例模式的写法：线程安全</p><p>44、Semaphore有什么作用</p><p>Semaphore就是一个信号量，它的作用是限制某段代码块的并发数。Semaphore有一个构造函数，可以传入一个int型整数n，表示某段代码最多只有n个线程可以访问，如果超出了n，那么请等待，等到某个线程执行完毕这段代码块，下一个线程再进入。由此可以看出如果Semaphore构造函数中传入的int型整数n=1，相当于变成了一个synchronized了。</p><p>45、Executors类是什么？</p><p>Executors为Executor，ExecutorService，ScheduledExecutorService，ThreadFactory和Callable类提供了一些工具方法。</p><p>Executors可以用于方便的创建线程池</p><p>46、线程类的构造方法、静态块是被哪个线程调用的</p><p>这是一个非常刁钻和狡猾的问题。请记住：线程类的构造方法、静态块是被new这个线程类所在的线程所调用的，而run方法里面的代码才是被线程自身所调用的。</p><p>如果说上面的说法让你感到困惑，那么我举个例子，假设Thread2中new了Thread1，main函数中new了Thread2，那么：</p><p>1）Thread2的构造方法、静态块是main线程调用的，Thread2的run()方法是Thread2自己调用的</p><p>2）Thread1的构造方法、静态块是Thread2调用的，Thread1的run()方法是Thread1自己调用的</p><p>47、同步方法和同步块，哪个是更好的选择?</p><p>同步块，这意味着同步块之外的代码是异步执行的，这比同步整个方法更提升代码的效率。请知道一条原则：同步的范围越小越好。</p><p>48、Java线程数过多会造成什么异常？</p><p>1）线程的生命周期开销非常高</p><p>2）消耗过多的CPU资源</p><p>如果可运行的线程数量多于可用处理器的数量，那么有线程将会被闲置。大量空闲的线程会占用许多内存，给垃圾回收器带来压力，而且大量的线程在竞争CPU资源时还将产生其他性能的开销。</p><p>3）降低稳定性</p><p>JVM在可创建线程的数量上存在一个限制，这个限制值将随着平台的不同而不同，并且承受着多个因素制约，包括JVM的启动参数、Thread构造函数中请求栈的大小，以及底层操作系统对线程的限制等。如果破坏了这些限制，那么可能抛出OutOfMemoryError异常</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1、并发编程三要素？&lt;/p&gt;
&lt;p&gt;1）原子性&lt;/p&gt;
&lt;p&gt;原子性指的是一个或者多个操作，要么全部执行并且在执行的过程中不被其他操作打断，要么就全部都不执行。&lt;/p&gt;
&lt;p&gt;2）可见性&lt;/p&gt;
&lt;p&gt;可见性指多个线程操作一个共享变量时，其中一个线程对变量进行修改后，其他线</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="多线程" scheme="http://example.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
    <category term="面试题" scheme="http://example.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>JAVA多线程知识点总结</title>
    <link href="http://example.com/2021/02/05/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    <id>http://example.com/2021/02/05/%E5%A4%9A%E7%BA%BF%E7%A8%8B/</id>
    <published>2021-02-05T04:27:01.000Z</published>
    <updated>2021-02-24T09:19:17.791Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java多线程"><a href="#java多线程" class="headerlink" title="java多线程"></a>java多线程</h1><p>线程开启不一定执行，由CPU调度执行。</p><p>为什么要引入多线程?</p><blockquote><p>原有的调度单位不够用了，必须引入一个新的调度单位才能解决一些问题，引入新的调度单位后，在算法不变的情况下，可以有效的提升执行速度和CPU的利用率。</p></blockquote><h2 id="三种创建线程的方法："><a href="#三种创建线程的方法：" class="headerlink" title="三种创建线程的方法："></a>三种创建线程的方法：</h2><ul><li>继承Thread类 </li><li>实现Runnable接口</li><li>实现Callable接口</li></ul><h3 id="（一）继承Thread类"><a href="#（一）继承Thread类" class="headerlink" title="（一）继承Thread类"></a>（一）继承Thread类</h3><p>继承Thread类，重写run（）方法，调用start()方法开启线程</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">//线程创建方法之一：继承Thread类，重写run()方法，调用start开启线程</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTeread1</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//run方法线程体</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我在吃饭&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestTeread1 testTeread1 = <span class="keyword">new</span> TestTeread1();</span><br><span class="line">        testTeread1.start();</span><br><span class="line">        <span class="comment">//main线程，主线程</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我在睡觉&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="（二）实现Runnable接口-推荐使用"><a href="#（二）实现Runnable接口-推荐使用" class="headerlink" title="（二）实现Runnable接口(推荐使用)"></a>（二）实现Runnable接口(推荐使用)</h3><p>如果一个类继承Thread，则不适合资源恭喜。但是如果实现了Runable接口的话，则很容易实现资源共享。</p><p>实现Runnable接口比继承Thread类所具有的优势:</p><ol><li>适合多个相同的程序代码去处理同一个资源</li><li>可以避免java中的单继承机制</li><li>增加程序的健壮性，代码可以被多个线程共享，代码和数据独立</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">//线程创建方法二：实现Runnable接口，重写run方法，执行线程需要丢入Runnable接口实现类，调用start方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread2</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我在学习&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//启动线程</span></span><br><span class="line">        TestThread2 testThread2 = <span class="keyword">new</span> TestThread2();</span><br><span class="line"><span class="comment">//        Thread thread = new Thread(testThread2);</span></span><br><span class="line"><span class="comment">//        thread.start();</span></span><br><span class="line">        <span class="keyword">new</span> Thread(testThread2).start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我在睡觉&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>多个线程操作同一对象，买车票实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多个线程同时操作一个对象</span></span><br><span class="line"><span class="comment">//买火车票的例子</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread3</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticketNums = <span class="number">10</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticketNums &lt;= <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;--&gt;拿到了第&quot;</span> + ticketNums-- + <span class="string">&quot;票&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestThread3 ticket = <span class="keyword">new</span> TestThread3();</span><br><span class="line">        <span class="keyword">new</span> Thread(ticket,<span class="string">&quot;小红&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(ticket,<span class="string">&quot;小明&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(ticket,<span class="string">&quot;黄牛&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>但是通过结果可以知道这是存在问题的，会出现多个用户同时买到同一张票的情况</p><p><img src="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210112150930857.png" class="lazyload" data-srcset="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210112150930857.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210112150930857"></p><p>多线程之龟兔赛跑实例</p><ol><li>首先来个赛道距离, 然后要离终点越来越近</li><li>判断比赛是否结束</li><li>打印出胜利者</li><li>龟兔赛跑开始</li><li>故事中是乌龟赢的, 兔子需要睡觉, 所以我们来模拟兔子睡觉</li><li>终于, 乌龟赢得比赛</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"><span class="comment">//龟兔赛跑实例</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Race</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span> String winner;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//让兔子休息</span></span><br><span class="line">            <span class="keyword">if</span> (Thread.currentThread().getName().equals(<span class="string">&quot;兔子&quot;</span>) &amp;&amp; i == <span class="number">20</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断是否结束比赛</span></span><br><span class="line">            <span class="keyword">boolean</span> flag = gameOver(i);</span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;走了&quot;</span> + i + <span class="string">&quot;步&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span>  <span class="keyword">boolean</span> <span class="title">gameOver</span><span class="params">(<span class="keyword">int</span> steps)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//判断是否已经存在胜利者</span></span><br><span class="line">        <span class="keyword">if</span> (winner != <span class="keyword">null</span>) &#123; <span class="comment">//如果已经存在胜利者</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (steps == <span class="number">100</span>) &#123;</span><br><span class="line">            winner = Thread.currentThread().getName();</span><br><span class="line">            System.out.println(<span class="string">&quot;winner is &quot;</span> + winner);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Race race = <span class="keyword">new</span> Race();</span><br><span class="line">        <span class="keyword">new</span> Thread(race,<span class="string">&quot;乌龟&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(race,<span class="string">&quot;兔子&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="（三）实现Callable接口（了解即可）"><a href="#（三）实现Callable接口（了解即可）" class="headerlink" title="（三）实现Callable接口（了解即可）"></a>（三）实现Callable接口（了解即可）</h3><ol><li>实现Callable接口，需要返回值类型</li><li>重写call方法，需要抛出异常</li><li>创建目标对象</li><li>创建执行服务：ExecutorService ser = Executors.newFixedThreadPool(1);</li><li>提交执行：Future<Boolean> result1 = ser.submit(1);</li><li>获取结果：boolean r1 =  result1.get();</li><li>关闭服务：ser.shutdownNow();</li></ol><p>优点：</p><ul><li>有返回值</li><li>可以抛出异常</li></ul><p>Callable实现实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread4</span> <span class="keyword">implements</span> <span class="title">Callable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//重写call方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;我是返回信息&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//启动线程</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        TestThread4 testThread4 = <span class="keyword">new</span> TestThread4();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建执行服务</span></span><br><span class="line">        ExecutorService ser = Executors.newFixedThreadPool(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//提交执行</span></span><br><span class="line">        Future&lt;String&gt; str = ser.submit(testThread4);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取结果</span></span><br><span class="line">        String result = str.get();</span><br><span class="line">        System.out.println(result);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关闭服务</span></span><br><span class="line">        ser.shutdownNow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="线程方法"><a href="#线程方法" class="headerlink" title="线程方法"></a>线程方法</h2><p>setPriority(int newPriority)     —&gt;更改线程优先级</p><p>static void sleep(long millis)    —&gt;在指定的毫秒数内让当前正在执行的线程休眠 </p><p>void join()                                     —&gt;等待该线程终止</p><p>void interrupt()                           —&gt;中断线程，一般不用这个方法</p><p>boolean isAlive()                         —&gt;测试线程是否处于活动状态</p><h3 id="线程停止"><a href="#线程停止" class="headerlink" title="线程停止"></a>线程停止</h3><ul><li>不推荐使用JDK提供的Stop()、destroy()方法。</li><li>推荐线程自己停止下来</li><li>建议使用一个标志位进行终止变量，当flag = false，则终止线程运行</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStop</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1.线程中定义线程体使用的标识</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//2.线程体使用该标识</span></span><br><span class="line">        <span class="keyword">while</span> (flag) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;run...Thread&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.对外提供方法改变标识</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线程休眠"><a href="#线程休眠" class="headerlink" title="线程休眠"></a>线程休眠</h3><ul><li>sleep(时间)指定当前线程阻塞的毫秒数</li><li>sleep存在异常InterruptedException</li><li>sleep时间达到后线程进入就绪态</li><li>sleep可以模拟网络延时，倒计时等</li><li>每个对象都有一个锁，sleep不会释放锁</li></ul><h3 id="线程礼让（yield）"><a href="#线程礼让（yield）" class="headerlink" title="线程礼让（yield）"></a>线程礼让（yield）</h3><ul><li>礼让线程，让当前正在执行的线程暂停，但不阻塞</li><li>将线程从运行态转为就绪状态</li><li>让CPU重新调度，礼让不一定成功，看CPU心情</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试礼让线程</span></span><br><span class="line"><span class="comment">//礼让不一定成功</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestYield</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyYield myYield = <span class="keyword">new</span> MyYield();</span><br><span class="line">        <span class="keyword">new</span> Thread(myYield,<span class="string">&quot;a&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(myYield,<span class="string">&quot;b&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyYield</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;线程开始执行&quot;</span>);</span><br><span class="line">        Thread.yield(); <span class="comment">//礼让</span></span><br><span class="line">        System.out.println(<span class="string">&quot;线程停止执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线程强制执行（join）"><a href="#线程强制执行（join）" class="headerlink" title="线程强制执行（join）"></a>线程强制执行（join）</h3><h3 id="观测线程状态"><a href="#观测线程状态" class="headerlink" title="观测线程状态"></a>观测线程状态</h3><ul><li>new：尚未启动的线程处于此状态</li><li>block:在java虚拟机中执行的线程处于此状态</li><li>waiting:正在等待另一个线程执行特定动作的线程处于此状态</li><li>timed_waiting:正在等待另一个线程执行动作达到指定等待时间的线程处于此状态</li><li>terminated:已退出的线程处于此状态</li></ul><p>代码实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.base.Demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThreadState</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(()-&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//更新状态</span></span><br><span class="line">        Thread.State state = thread.getState();</span><br><span class="line">        System.out.println(state);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//观察启动后线程的状态</span></span><br><span class="line">        thread.start();</span><br><span class="line">        state = thread.getState();</span><br><span class="line">        System.out.println(state);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (state != Thread.State.TERMINATED) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            state = thread.getState();</span><br><span class="line">            System.out.println(state);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h3><p>JAVA提供一个线程调度起来监控程序中启动后进入就绪状态的所有线程，线程调度器会按照优先级决定应该调度哪个线程来执行。</p><p>线程的优先级用数字表示，范围从1—10</p><p>使用以下方式改变或获取优先级</p><p>getPriority()    setPriority()</p><h3 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h3><ul><li>线程分为用户线程和守护线程</li><li>虚拟机必须确保用户线程执行完毕</li><li>虚拟机不用等待守护线程执行完毕</li><li>如，后台记录操作日志，监控内存，垃圾回收等待</li></ul><p>使用以下语句设为守护线程：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thread.setDaemon(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure><h3 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h3><p>多线程共享数据时，会发生线程不安全的情况，多线程共享数据必须同步。<br>实现同步的三种方法：</p><ol><li>使用同步代码块（synchronized）</li><li>使用同步方法</li><li>使用互斥锁ReetrantLock（更灵活的代码控制）</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyncThreadDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">MyRunnable mr = <span class="keyword">new</span> MyRunnable();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(mr).start();</span><br><span class="line"><span class="keyword">new</span> Thread(mr).start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> tickts = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line"><span class="comment">//if (tickts &gt; 0) &#123;</span></span><br><span class="line"><span class="comment">// 方法一：使用同步代码块</span></span><br><span class="line"><span class="comment">//synchronized (this) &#123;</span></span><br><span class="line"><span class="comment">//System.out.println(&quot;第&quot; + (tickts--) + &quot;张票售出&quot;);</span></span><br><span class="line"><span class="comment">//try &#123;</span></span><br><span class="line"><span class="comment">//Thread.sleep(100);</span></span><br><span class="line"><span class="comment">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//e.printStackTrace();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">// 方法二：使用同步方法达到线程安全</span></span><br><span class="line">saleTickts();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法三：使用ReentrantLock，更加灵活，可以加入判断，在特定的情况下释放锁</span></span><br><span class="line">saleTickts2();</span><br><span class="line">&#125;<span class="comment">// for</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步方法：同步的是当前对象</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">saleTickts</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (tickts &gt; <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;第&quot;</span> + (tickts--) + <span class="string">&quot;张票售出&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="comment">// saleTickts</span></span><br><span class="line"></span><br><span class="line">ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法三：使用ReentrantLock，更加灵活，可以加入判断，在特定的情况下释放锁</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">saleTickts2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">lock.lock();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (tickts &gt; <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;第&quot;</span> + (tickts--) + <span class="string">&quot;张票售出&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 保证锁一定会被释放，不会出现死锁情况</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">lock.unlock();<span class="comment">// 释放锁</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="comment">// saleTickts2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同步块：synchronized(Obj) {}</p><p>Obj称之为同步监视器</p><ul><li>Obj可以是任何对象，但是推荐使用共享资源作为同步监视器</li><li>同步方法中无需指定同步监视器，因为方法的同步监视器就是this，就是这个对象本身，或者是class</li></ul><p>同步监视器的执行过程（锁的对象就是变化的量，需要增删改的对象）</p><ol><li>第一个线程访问，锁定同步监视器，执行其中代码</li><li>第二个线程访问，发现同步监视器被锁定，无法访问</li><li>第一个线程访问完毕，解锁同步监视器</li><li>第二个线程访问，发现同步监视器没有锁，然后锁定并访问</li></ol><p>synchronized与Lock的对比</p><ul><li>Lock是显示锁（手动开启和关闭锁，别忘记关闭锁），而synchronized是隐式锁，出了作用域自动释放</li><li>Lock只有代码块锁，而synchronized有代码块锁和方法锁</li><li>使用Lock锁，JVM将花费较少的时间来调度线程，性能更好，并且具有更好的扩展性（提供更多的子类）</li></ul><p>优先使用顺序：Lock&gt;同步代码块（已经进入方法体，分配了相应资源）&gt;同步方法（在方法体之外）</p><h3 id="线程死锁"><a href="#线程死锁" class="headerlink" title="线程死锁"></a>线程死锁</h3><p>产生死锁的四个必要条件</p><ol><li>互斥条件：一个资源每次只能被一个进程使用</li><li>请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放</li><li>不剥夺条件：进程已获得的资源，在未使用之前，不能强行剥夺</li><li>循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系</li></ol><p>只要破坏任意一个，就能避免线程死锁</p><h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><p>线程池就是提前创建若干线程，如果有任务需要处理，线程池里的任务就会处理任务，处理完之后线程不会被销毁，而是等待下一个任务，由于创建和销毁线程都是消耗系统资源的，所以当你想要频繁的创建和销毁线程的时候就可以考虑使用线程池来提升系统性能。</p><ul><li><p>JDK5.0起提供了线程相关API:ExecutorService和Executors</p></li><li><p>ExecutorService:真正的线程池接口，常见子类ThreadPoolExecutor</p></li><li><ol><li>void execute(Runnable command):执行任务/命令，没有返回值，一般用来执行Runnable</li><li><T>Future<T>submit(Callable<T> task):执行任务，有返回值，一般用来执行Callable</li><li>void shutdown():关闭</li></ol></li><li><p>Executors:工具类、线程池的工厂类，用于创建并返回不同类型的线程池</p></li></ul><p>简单示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试线程池</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPool</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1.创建服务，创建线程池</span></span><br><span class="line">    <span class="comment">//newFixedThreadPool 参数为：线程池大小</span></span><br><span class="line">    ExecutorService service = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//执行</span></span><br><span class="line">    service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">    service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">    service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">    service.execute(<span class="keyword">new</span> MyThread());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭连接</span></span><br><span class="line">    service.shutdown();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mythread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;java多线程&quot;&gt;&lt;a href=&quot;#java多线程&quot; class=&quot;headerlink&quot; title=&quot;java多线程&quot;&gt;&lt;/a&gt;java多线程&lt;/h1&gt;&lt;p&gt;线程开启不一定执行，由CPU调度执行。&lt;/p&gt;
&lt;p&gt;为什么要引入多线程?&lt;/p&gt;
&lt;blockqu</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="多线程" scheme="http://example.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>白帽子讲Web安全笔记1</title>
    <link href="http://example.com/2021/01/25/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%B2Web%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B01/"/>
    <id>http://example.com/2021/01/25/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%B2Web%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B01/</id>
    <published>2021-01-25T14:30:01.000Z</published>
    <updated>2021-02-24T09:28:12.791Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1、-白帽子兵法原则："><a href="#1、-白帽子兵法原则：" class="headerlink" title="1、 白帽子兵法原则："></a>1、 白帽子兵法原则：</h1><ul><li><p>白名单，黑名单。优先使用白名单，会大大提高系统的安全性。</p></li><li><p>最小权限原则。最小权限原则要求只授予主体必要的全限，而不要过度授权</p></li><li><p>纵深防御原则。</p><p>1、要在各个不同层面，不同方面实施安全方案，避免出现疏漏，类似于“木桶理论”</p><p>2、要在正确的地方做正确的事情，即：在解决根本问题的地方实施针对性的安全方案</p></li></ul><h1 id="2、-浏览器安全"><a href="#2、-浏览器安全" class="headerlink" title="2、 浏览器安全"></a>2、 浏览器安全</h1><h2 id="2、1-同源策略"><a href="#2、1-同源策略" class="headerlink" title="2、1 同源策略"></a>2、1 同源策略</h2><p>这一策略极为重要，如果没有同源策略，可能a.com的一段JS脚本，在b.com未曾加载此脚本时，也可以随意修改b.com的页面。</p><p>影响“源”的因素有：</p><ol><li>host</li><li>子域名</li><li>端口</li><li>协议</li></ol><h2 id="2、2-浏览器沙箱"><a href="#2、2-浏览器沙箱" class="headerlink" title="2、2 浏览器沙箱"></a>2、2 浏览器沙箱</h2><p>Sandbox即沙箱，已经成为泛指“资源隔离类模块”的代名词。Sandbox设计目的一般是为了让不可信代码运行再一定的环境中，限制不可信任的代码访问隔离区之外的资源。</p><h1 id="3、跨站脚本攻击（XSS）"><a href="#3、跨站脚本攻击（XSS）" class="headerlink" title="3、跨站脚本攻击（XSS）"></a>3、跨站脚本攻击（XSS）</h1><p>跨站脚本攻击，英文全称为Cross Site Script，在安全领域叫做”XSS“。XSS攻击，通常是指黑客通过”HTML注入“篡改了网页，插入了恶意的脚本，从而再用户浏览网页时，控制用户浏览器的一种攻击。</p><h2 id="一、反射型XSS"><a href="#一、反射型XSS" class="headerlink" title="一、反射型XSS"></a>一、反射型XSS</h2><p>反射型XSS只是简单地把用户输入的数据”反射“给浏览器，也就是说，黑客需要诱使用户”点击“一个恶意链接，才能攻击成功，也叫做非持久型XSS。</p><h2 id="二、存储型XSS"><a href="#二、存储型XSS" class="headerlink" title="二、存储型XSS"></a>二、存储型XSS</h2><p>存储型XSS会把用户输入的数据存储再服务器端。这这XSS具有很强的稳定性，也叫持久性XSS。</p><h2 id="三、DOM-Based-XSS"><a href="#三、DOM-Based-XSS" class="headerlink" title="三、DOM Based XSS"></a>三、DOM Based XSS</h2><p>通过修改页面的DOM节点形成的XSS，称之为DOM Based XSS。</p><p>（注：DOM（Document Object Model）为文档对象模型），是HTML和XML文档的编程接口。）DOM可以被认为是一种通过将页面元素以对象的树形方式表现，以便由Javascript组织处理的实现方法。</p><p><img src="http://blog.nsfocus.net/wp-content/uploads/2017/09/0bf9587df06a8a93ff3e2fdd4a26bf76.png" class="lazyload" data-srcset="http://blog.nsfocus.net/wp-content/uploads/2017/09/0bf9587df06a8a93ff3e2fdd4a26bf76.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><p>目前主要的<strong>XSS</strong>漏洞防御策略及发展趋势如下：</p><ol><li><p>特征匹配 </p><p>这种防御策略主要是通过检测输入数据中的关键字，例如“JavaScript”，一般的网页脚本执行的都是JavaScript代码。但是这种方式比较僵硬，有些正常的含有对应关键字的数据也会被截取。</p></li><li><p>规范代码标准<br>这种防御策略主要从web网页编码规范的角度出发，由于不同开发者开发的网页存在部分编码差异，可能存在潜在的漏洞。通过制定一套业内标准，优化web应用，此举能减少相关漏洞的产生。</p></li><li><p>使用端层防御策略<br>这种策略主要从浏览器的角度出发，通过收集<strong>XSS</strong>信息数据库、由用户决定是否执行服务器返回的信息内容等方式进行防范。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1、-白帽子兵法原则：&quot;&gt;&lt;a href=&quot;#1、-白帽子兵法原则：&quot; class=&quot;headerlink&quot; title=&quot;1、 白帽子兵法原则：&quot;&gt;&lt;/a&gt;1、 白帽子兵法原则：&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;白名单，黑名单。优先使用白名单，会大大提高系统的安</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="多线程" scheme="http://example.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
    <category term="面试题" scheme="http://example.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>OWASP TOP10介绍</title>
    <link href="http://example.com/2021/01/18/OWASP%20Top10/"/>
    <id>http://example.com/2021/01/18/OWASP%20Top10/</id>
    <published>2021-01-18T10:10:01.000Z</published>
    <updated>2021-02-24T09:28:12.783Z</updated>
    
    <content type="html"><![CDATA[<h1 id="OWASP-Top-10介绍"><a href="#OWASP-Top-10介绍" class="headerlink" title="OWASP Top 10介绍"></a>OWASP Top 10介绍</h1><p>OWASP Top（开放式Web应用程序安全项目）的工具、文档、论坛和全球各地分会都是开放的，对所有致力于改进应用程序安全的人士开放，其最具有权威的就是”10项最严重的Web应用程序安全风险列表“，总结了Web应用程序最可能、最常见、最危险的十大漏洞，是开发、测试、服务、咨询人员应知应会的知识。</p><h2 id="A1-注入injection"><a href="#A1-注入injection" class="headerlink" title="A1 注入injection"></a>A1 注入injection</h2><p>将不安全的命令作为命令发送给解析器，会产生类似于SQL注入、NoSQL注入、OS注入和LDAP注入（轻量目录访问协议）的缺失，攻击者可以构造恶意数据通过注入缺陷的解析器执行没有权限的非预期命令或访问数据。</p><h2 id="A2失效的身份认证"><a href="#A2失效的身份认证" class="headerlink" title="A2失效的身份认证"></a>A2失效的身份认证</h2><p>通过错误使用应用程序的身份认证和会话管理功能，攻击者能够破译密码、密钥或会话令牌，或者暂时或永久冒充其他用户的身份。</p><h2 id="A3敏感信息泄露"><a href="#A3敏感信息泄露" class="headerlink" title="A3敏感信息泄露"></a>A3敏感信息泄露</h2><p>这个比较号理解，一般我们的敏感信息包括密码、财务数据、医疗数据等，由于Web应用或者API未加密或不正确的保护敏感数据，这些数据极易容易遭到攻击者的利用，攻击者可能使用这些数据来进行一些犯罪行为。因此，未加密的信息极易遭到破坏和利用，我们应该加强对敏感数据的保护，Web应用应该在传输过程中数据、存储的数据以及和浏览器交互时的数据进行加密，保证数据安全。</p><h2 id="A4外部实体（XXE）"><a href="#A4外部实体（XXE）" class="headerlink" title="A4外部实体（XXE）"></a>A4外部实体（XXE）</h2><p>XXE全称为XML External Entity attack即XML（可扩展标记语言）外部实体注入攻击，早期或配置错误的XML处理器评估了XML文件外部实体引用，攻击者可以利用这个漏洞窃取URL（统一资源标识符）文件处理器的内部文件和共享文件、监听内部扫描端口、执行远程代码和实施拒绝服务攻击。</p><h2 id="A5失效的访问控制"><a href="#A5失效的访问控制" class="headerlink" title="A5失效的访问控制"></a>A5失效的访问控制</h2><p>通过身份认证的用户，可以访问其他用户的相关信息，没有实施恰当的访问权限。攻击者可以利用这个漏洞去查看未授权的功能数据，比如访问用户的账户、敏感文件、获取和正常用户相同的权限等。</p><h2 id="A6安全配置错误"><a href="#A6安全配置错误" class="headerlink" title="A6安全配置错误"></a>A6安全配置错误</h2><p>安全配置错误是比较常见的漏洞，由于操作者的不当配置（默认配置、临时配置、开源云存储、Http标头配置、以及包含敏感信息的相信错误），导致攻击者可以利用这些配置获得更高的权限，安全配置错误可以发生在各个层面，包括平台、web服务器、应用服务器、数据库、架构和代码等。</p><h2 id="A7跨站脚本（XSS）"><a href="#A7跨站脚本（XSS）" class="headerlink" title="A7跨站脚本（XSS）"></a>A7跨站脚本（XSS）</h2><p>XSS攻击全称为跨站脚本攻击，当应用程序的新网页中包含不受信任的、未经恰当验证、转义的数据或可以使用HTML、JavaScript的浏览器API更新现有网页时，就会出现XSS漏洞。跨站脚本攻击是很普遍的web应用安全漏洞，甚至再某些安全平台都存在XSS漏洞。XSS会指向攻击者在浏览器中执行的脚本，并劫持用户会话，破坏网站或用户重定向到恶意站点，使用XSS还可以执行拒绝服务攻击。</p><h2 id="A8不安全的反序列化"><a href="#A8不安全的反序列化" class="headerlink" title="A8不安全的反序列化"></a>A8不安全的反序列化</h2><p>不安全的反序列化可以导致远程代码执行、重放攻击、注入攻击或特权升级攻击。</p><h2 id="A9使用含有已知漏洞的组件"><a href="#A9使用含有已知漏洞的组件" class="headerlink" title="A9使用含有已知漏洞的组件"></a>A9使用含有已知漏洞的组件</h2><p>组件（库、框架或其他软件模块）拥有应用程序相同的权限，如果应用程序中含有已知漏洞，攻击者可以利用漏洞获取数据或接管服务器。同时，使用这些组件会破坏应用程序防御，造成各种攻击产生严重的后果。</p><h2 id="A10不足的日志记录和监控"><a href="#A10不足的日志记录和监控" class="headerlink" title="A10不足的日志记录和监控"></a>A10不足的日志记录和监控</h2><p>这个和等保有一定的关系。不足的日志记录和监控，以及时间响应缺失或无效的集成，使攻击者能够进一步攻击系统、保持持续性的或攻击更多的系统，以及对数据的不当操作。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;OWASP-Top-10介绍&quot;&gt;&lt;a href=&quot;#OWASP-Top-10介绍&quot; class=&quot;headerlink&quot; title=&quot;OWASP Top 10介绍&quot;&gt;&lt;/a&gt;OWASP Top 10介绍&lt;/h1&gt;&lt;p&gt;OWASP Top（开放式Web应用程序安全</summary>
      
    
    
    
    <category term="网络安全" scheme="http://example.com/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="OWASP" scheme="http://example.com/tags/OWASP/"/>
    
    <category term="漏洞" scheme="http://example.com/tags/%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>详谈JAVA内部类</title>
    <link href="http://example.com/2021/01/12/%E8%AF%A6%E8%B0%88java%E5%86%85%E9%83%A8%E7%B1%BB/"/>
    <id>http://example.com/2021/01/12/%E8%AF%A6%E8%B0%88java%E5%86%85%E9%83%A8%E7%B1%BB/</id>
    <published>2021-01-12T14:59:01.000Z</published>
    <updated>2021-02-24T09:22:14.848Z</updated>
    
    <content type="html"><![CDATA[<h2 id="详谈Java内部类"><a href="#详谈Java内部类" class="headerlink" title="详谈Java内部类"></a>详谈Java内部类</h2><p>什么是内部类？</p><blockquote><p>可以将一个类的定义放在另一个类的内部，这就是内部类。广义上我们将内部类分为四种：成员内部类，静态内部类，局部（方法）内部类，匿名内部类。</p></blockquote><p>为什么要使用内部类？</p><blockquote><p>使用内部类最重要的原因是：每个类都能独立地继承一个接口的实现，所以无论外围类是否已经继承了某个接口的实现，对内部类都没有影响。</p></blockquote><p>（注：内部类可以嵌套内部类，但是这极大的破坏了代码的结构，这里不推荐使用。）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 1. Outer类继承了ClassA，实现了IFunctionA</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> <span class="keyword">extends</span> <span class="title">ClassA</span> <span class="keyword">implements</span> <span class="title">IFunctionA</span></span>&#123; </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*Inner类继承了ClassB，实现了IFunctionB</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> <span class="keyword">extends</span> <span class="title">ClassB</span> <span class="keyword">implements</span> <span class="title">IfunctionB</span></span>&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>内部类除了上面之外还有以下优点：</p><ul><li>内部类可以用多个实例，每个实例都有自己的状态，并且与其他外围对象的信息相互独立。</li><li>内部类就是一个独立的实体。</li><li>内部类实现了更好的封装，除了该外围类，其他类不能访问。</li><li>创建内部类对象并不依赖于外围类对象的创建。</li></ul><h3 id="（一）成员内部类"><a href="#（一）成员内部类" class="headerlink" title="（一）成员内部类"></a>（一）成员内部类</h3><p>1、外部类和内部类的定义</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">**</span><br><span class="line"> * 外部类、成员内部类的定义</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> outerVariable = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> outerStaticVariable = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">//省略getter/setter</span></span><br><span class="line">     </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成员方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outerMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerMethod方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">outerStaticMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerStaticMethod静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 内部类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 构造方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Inner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 成员方法，访问外部类信息（属性、方法）</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">innerShow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">//当和外部类冲突时，直接引用属性名，是内部类的成员属性</span></span><br><span class="line">            System.out.println(<span class="string">&quot;内部的commonVariable:&quot;</span> + commonVariable);</span><br><span class="line">            <span class="comment">//内部类访问外部属性</span></span><br><span class="line">            System.out.println(<span class="string">&quot;outerVariable:&quot;</span> + outerVariable);</span><br><span class="line">            <span class="comment">//当和外部类属性名重叠时，可通过外部类名.this.属性名</span></span><br><span class="line">            System.out.println(<span class="string">&quot;外部的commonVariable:&quot;</span> + Outer.<span class="keyword">this</span>.commonVariable);</span><br><span class="line">            System.out.println(<span class="string">&quot;outerStaticVariable:&quot;</span> + outerStaticVariable);</span><br><span class="line">            <span class="comment">//访问外部类的方法</span></span><br><span class="line">            outerMethod();</span><br><span class="line">            outerStaticMethod();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *外部类访问内部类信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outerShow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Inner inner = <span class="keyword">new</span> Inner();</span><br><span class="line">        inner.innerShow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、主方法使用成员内部类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*其他类使用成员内部类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Other</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//外部类对象</span></span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        <span class="comment">//创造内部类对象</span></span><br><span class="line">        Outer.Inner inner = outer.<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br><span class="line">        inner.innerShow();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * 可在Outer中定义get方法，获得Inner对象,那么使用时，只需outer.getInnerInstance()即可。</span></span><br><span class="line"><span class="comment">        * public Inner getInnerInstance(Inner类的构造方法参数)&#123;</span></span><br><span class="line"><span class="comment">        *   return new Inner(参数);</span></span><br><span class="line"><span class="comment">        * &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、小结</p><ul><li>可以使用任何的访问修饰符</li><li>内部类的内部不能有静态信息</li><li>内部类可以进行继承，重写等操作</li><li>外部类必须使用new之后打点访问内部类</li><li>内部类可以直接使用外部类的任何信息，如果属性或者方法发生冲突，调用外部类.this.属性或者方法。</li><li>其他类访问内部类实例：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Outer outer=<span class="keyword">new</span> Outer();</span><br><span class="line"><span class="comment">//创造内部类对象</span></span><br><span class="line">Outer.Inner inner=outer.<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br><span class="line">inner.inner_show();</span><br></pre></td></tr></table></figure><h3 id="（二）静态内部类"><a href="#（二）静态内部类" class="headerlink" title="（二）静态内部类"></a>（二）静态内部类</h3><p>1、外部类和内部类的定义</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 外部类、内部类定义</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> outerVariable = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 外部类定义的属性(重名)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> outerStaticVariable = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Outer的静态块被执行了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成员方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outerMothod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerMethod方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    *静态方法</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">outerStaticMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerStaticMethod静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态内部类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 成员信息</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> innerVariable = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Outer.Inner的静态块执行了……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> innerStaticVariable = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 成员方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">innerShow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;innerVariable:&quot;</span> + innerVariable);</span><br><span class="line">            System.out.println(<span class="string">&quot;内部的commonVariable:&quot;</span> + commonVariable);</span><br><span class="line">            System.out.println(<span class="string">&quot;outerStaticVariable:&quot;</span>+outerStaticVariable);</span><br><span class="line">            outerStaticMethod();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 静态方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">innerStaticShow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//被调用时会先加载Outer类</span></span><br><span class="line">            outerStaticMethod();</span><br><span class="line">            System.out.println(<span class="string">&quot;outerStaticVariable&quot;</span>+outerStaticVariable);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 外部类的内部如何和内部类打交道</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">callInner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Inner.innerStaticVariable);</span><br><span class="line">        Inner.innerStaticShow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、其他类使用静态内部类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Other</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//访问静态内部类的静态方法，Inner类被加载,此时外部类未被加载，独立存在，不依赖于外围类。</span></span><br><span class="line">        Outer.Inner.innerStaticShow();</span><br><span class="line">        <span class="comment">//访问静态内部类的成员方法</span></span><br><span class="line">        Outer.Inner oi = <span class="keyword">new</span> Outer.Inner();</span><br><span class="line">        oi.innerShow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、小结（注意区分与成员内部类的区别）</p><ul><li>内部可以包含任意的信息。</li><li>静态内部类的方法只能访问外部类的static关联的信息。</li><li>利用 外部类.内部类 引用=new 外部类.内部类(); 然后利用引用.成员信息(属性、方法)调用。</li><li>访问内部类的静态信息，直接外部类.内部类.静态信息就可以了。</li><li>静态内部类可以独立存在，不依赖于其他外围类。</li></ul><h3 id="（三）局部内部类"><a href="#（三）局部内部类" class="headerlink" title="（三）局部内部类"></a>（三）局部内部类</h3><p>1、外部类和内部类的定义</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *外部类、内部类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 属性和方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> outerVariable = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 外部类定义的属性</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态的信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> outerStaticVariable = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成员外部方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outerMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerMethod方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态外部方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">outerStaticMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是外部类的outerStaticMethod静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 程序的入口</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        outer.outerCreatMethod(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成员方法，内部定义局部内部类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">outerCreatMethod</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 女性</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">boolean</span> sex = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 局部内部类，类前不能有访问修饰符</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> innerVariable = <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> commonVariable = <span class="number">20</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*局部内部类方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">innerShow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;innerVariable:&quot;</span> + innerVariable);</span><br><span class="line">                <span class="comment">//局部变量</span></span><br><span class="line">                System.out.println(<span class="string">&quot;是否男性:&quot;</span> + sex);</span><br><span class="line">                System.out.println(<span class="string">&quot;参数value:&quot;</span> + value);</span><br><span class="line">                <span class="comment">//调用外部类的信息</span></span><br><span class="line">                System.out.println(<span class="string">&quot;outerVariable:&quot;</span> + outerVariable);</span><br><span class="line">                System.out.println(<span class="string">&quot;内部的commonVariable:&quot;</span> + commonVariable);</span><br><span class="line">                System.out.println(<span class="string">&quot;外部的commonVariable:&quot;</span> + Outer.<span class="keyword">this</span>.commonVariable);</span><br><span class="line">                System.out.println(<span class="string">&quot;outerStaticVariable:&quot;</span> + outerStaticVariable);</span><br><span class="line">                outerMethod();</span><br><span class="line">                outerStaticMethod();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//局部内部类只能在方法内使用</span></span><br><span class="line">        Inner inner = <span class="keyword">new</span> Inner();</span><br><span class="line">        inner.innerShow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、小结</p><ul><li>类前不能有访问修饰符</li><li>仅在此方法内使用</li><li>无法创建静态信息</li><li>可以直接访问方法内的局部变量和参数</li><li>可以随意访问外部类的任何信息</li></ul><h3 id="（四）匿名内部类"><a href="#（四）匿名内部类" class="headerlink" title="（四）匿名内部类"></a>（四）匿名内部类</h3><p>1、定义接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口中方法默认为public</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAnimal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、匿名内部类使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*外部内、内部类</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IAnimal <span class="title">getInnerInstance</span><span class="params">(String speak)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> IAnimal()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">                System.out.println(speak);</span><br><span class="line">            &#125;&#125;;</span><br><span class="line">        <span class="comment">//注意上一行的分号必须有</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//调用的speak()是重写后的speak方法。</span></span><br><span class="line">        Outer.getInnerInstance(<span class="string">&quot;小狗汪汪汪！&quot;</span>).speak();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>官方文档中的例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAnonymousClasses</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 包含两个方法的HelloWorld接口</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、局部类EnglishGreeting实现了HelloWorld接口</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">EnglishGreeting</span> <span class="keyword">implements</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">            String name = <span class="string">&quot;world&quot;</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                greetSomeone(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">                name = someone;</span><br><span class="line">                System.out.println(<span class="string">&quot;Hello &quot;</span> + name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HelloWorld englishGreeting = <span class="keyword">new</span> EnglishGreeting();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、匿名类实现HelloWorld接口</span></span><br><span class="line">        HelloWorld frenchGreeting = <span class="keyword">new</span> HelloWorld() &#123;</span><br><span class="line">            String name = <span class="string">&quot;tout le monde&quot;</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                greetSomeone(<span class="string">&quot;tout le monde&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">                name = someone;</span><br><span class="line">                System.out.println(<span class="string">&quot;Salut &quot;</span> + name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、匿名类实现HelloWorld接口</span></span><br><span class="line">        HelloWorld spanishGreeting = <span class="keyword">new</span> HelloWorld() &#123;</span><br><span class="line">            String name = <span class="string">&quot;mundo&quot;</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                greetSomeone(<span class="string">&quot;mundo&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">                name = someone;</span><br><span class="line">                System.out.println(<span class="string">&quot;Hola, &quot;</span> + name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        englishGreeting.greet();</span><br><span class="line">        frenchGreeting.greetSomeone(<span class="string">&quot;Fred&quot;</span>);</span><br><span class="line">        spanishGreeting.greet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        HelloWorldAnonymousClasses myApp = <span class="keyword">new</span> HelloWorldAnonymousClasses();</span><br><span class="line">        myApp.sayHello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、小结（匿名内部类常常被用来重写某个或某些方法）</p><ul><li>匿名内部类是没有访问修饰符的。</li><li>没有类的名称，必须借助于接口或者父类</li><li>使用匿名内部类时，这个new之后的类首先是要存在的，其次要重写new后的类的某个或某些方法。</li><li>匿名内部类访问方法参数时也有和局部内部类同样的限制。</li><li>匿名内部类没有构造方法。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;详谈Java内部类&quot;&gt;&lt;a href=&quot;#详谈Java内部类&quot; class=&quot;headerlink&quot; title=&quot;详谈Java内部类&quot;&gt;&lt;/a&gt;详谈Java内部类&lt;/h2&gt;&lt;p&gt;什么是内部类？&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;可以将一个类的定义放在另一个</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="内部类" scheme="http://example.com/tags/%E5%86%85%E9%83%A8%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>JAVA基础知识回顾</title>
    <link href="http://example.com/2021/01/02/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E9%83%A8%E5%88%86/"/>
    <id>http://example.com/2021/01/02/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E9%83%A8%E5%88%86/</id>
    <published>2021-01-02T08:56:01.000Z</published>
    <updated>2021-02-24T09:19:37.307Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><ol><li>for循环是针对for循环的简化，从而提高编码效率</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> [] array = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> anInt : array) &#123;</span><br><span class="line">    System.out.println(anInt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>稀疏数组的创建以及还原，稀疏数组的格式为一个有效数个数+1行，三列的二维数组。第一行是原数组的行数，列数以及有效数的个数，其他行为有效数所在的行列和有效数的值。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ping.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">arrayDemo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] array1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">12</span>][<span class="number">12</span>];</span><br><span class="line">        array1[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        array1[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">        array1[<span class="number">3</span>][<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;输出原始数组：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">12</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;有效值的个数为：&quot;</span> + sum);</span><br><span class="line">        System.out.println(array1.length);</span><br><span class="line">        <span class="comment">//创建稀疏数组</span></span><br><span class="line">        <span class="keyword">int</span>[][] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[sum+<span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">12</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">12</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">2</span>] = sum;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array1.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array1[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    array2[count][<span class="number">0</span>] = i;</span><br><span class="line">                    array2[count][<span class="number">1</span>] = j;</span><br><span class="line">                    array2[count][<span class="number">2</span>] = array1[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array2) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//根据稀疏矩阵还原矩阵</span></span><br><span class="line">        <span class="keyword">int</span>[][] array3 = <span class="keyword">new</span> <span class="keyword">int</span>[array2[<span class="number">0</span>][<span class="number">0</span>]][array2[<span class="number">0</span>][<span class="number">1</span>]];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array2.length; i++) &#123;</span><br><span class="line">            array3[array2[i][<span class="number">0</span>]][array2[i][<span class="number">1</span>]] = array2[i][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array3) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li><p>静态方法和非静态方法。静态方法和类一起加载，而非静态方法则在实例化后才被加载。所以静态方法可以直接使用类名进行调用，而非静态方法则首先需要讲类进行实例化，才能调用非静态方法。</p></li><li><p>形参和实参。形参和实参的类型要一一对应。</p></li><li><p>值传递和引用传递。值传递是在调用函数时传递实参的副本，而引用传递直接传入内存地址。</p></li><li><p>使用new进行类的实例化，必须要有构造器。</p><p>（1）没有返回值</p><p>（2）和类名相同</p><p>又分为无参构造器和有参构造器，默认使用的是无参构造器。一旦定义了有参构造器，就必须显示的定义无惨构造器（方法的重载）。注：IDEA使用ALT+INSERT可以一键生成构造器。</p></li><li><p>面向对象三大特性</p></li></ol><p>(1) 封装：高内聚，低耦合。将属性设置为private，并使用set和get对属性进行设置和取出操作。提高了程序和数据的安全性。</p><p>(2) 继承：JAVA只有单继承，没有多继承。使用extends关键字进行继承，注：CTRL+H查看继承树</p><p>在JAVA中，所有的类都直接或间接的继承Object类，私有的属性和方法不能被构造。</p><p>父类的引用可以指向子类，如下所示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;A-&gt;test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B-&gt;test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        B b = <span class="keyword">new</span> B();</span><br><span class="line">        b.test();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//父类引用指向子类</span></span><br><span class="line">        A a = <span class="keyword">new</span> B();</span><br><span class="line">        a.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在以上例子中，由于静态方法和类一起被加载，所以无法对静态方法进行重写。如果为非静态方法且子类B对父类的test()方法进行重写，两者的输出结果都为”B-&gt;test”。</p><p>重写需要注意以下几点：</p><ul><li>方法名必须相同</li><li>参数列表必须相同</li><li>修饰符的范围可以扩大但是不能缩小</li><li>抛出的异常范围可以缩小，但是不能扩大</li></ul><p>Super：用于在子类中调用父类的属性和方法，super()调用父类构造器必须要在子类构造器的第一行。super和this不能同时调用构造方法。</p><p>super的作用主要在下面三种情况下：</p><p>1、调用父类被子类重写的方法；</p><p>2、调用父类被子类重定义的字段（被隐藏的成员变量）；</p><p>3、调用父类的构造方法</p><p>简单使用实例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String nameA=<span class="string">&quot;A&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;父类&quot;</span>+nameA);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> String nameB=<span class="string">&quot;B&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;子类&quot;</span>+nameB);</span><br><span class="line"><span class="keyword">super</span>.getName();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">B b=<span class="keyword">new</span> B();</span><br><span class="line">b.getName();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在子类B中，我们重写了父类的getName方法，如果在重写的getName方法中我们去调用了父类的相同方法，必须要通过super关键字显示的指明出来。</p><p>(3)多态</p><ul><li>多态是方法的多态，属性没有多态</li><li>存在条件为继承关系，方法需要重写，父类引用指向子类</li><li>无法被重写的：static,final,private</li></ul><p>instanceof和类型转换 </p><p>instanceof用于判断是否存在继承关系</p><ul><li>把子类转换为父类，向上转换</li><li>把父类转换为子类，强制转换</li><li>方便方法的调用，减少重复的代码</li></ul><p>静态代码块-&gt;匿名代码块-&gt;构造函数</p><p>抽象类只能单继承，但是可以用接口实现多继承</p><p>接口：只有规范，自己无法写方法，实现约束和实现分离：面向接口编程。 </p><p>使用interface定义接口，默认是Public，abstract方法</p><p>使用implements实现接口</p><ol start="8"><li>异常</li></ol><p><img src="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210104221347252.png" class="lazyload" data-srcset="C:\Users\胡志平\AppData\Roaming\Typora\typora-user-images\image-20210104221347252.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210104221347252"></p><p>throws是用来声明一个方法可能抛出的所有异常信息,throws是将异常声明但是不处理,而是将异常往上传,谁调用我就交给谁处理。而throw则是指抛出的一个具体的异常类型。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;基础语法&quot;&gt;&lt;a href=&quot;#基础语法&quot; class=&quot;headerlink&quot; title=&quot;基础语法&quot;&gt;&lt;/a&gt;基础语法&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;for循环是针对for循环的简化，从而提高编码效率&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;high</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="基础语法" scheme="http://example.com/tags/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>移位变换和仿射变换</title>
    <link href="http://example.com/2019/09/22/%E7%A7%BB%E4%BD%8D%E5%8F%98%E6%8D%A2%E5%92%8C%E4%BB%BF%E5%B0%84%E5%8F%98%E6%8D%A2/"/>
    <id>http://example.com/2019/09/22/%E7%A7%BB%E4%BD%8D%E5%8F%98%E6%8D%A2%E5%92%8C%E4%BB%BF%E5%B0%84%E5%8F%98%E6%8D%A2/</id>
    <published>2019-09-22T01:20:30.000Z</published>
    <updated>2021-01-22T04:26:32.369Z</updated>
    
    <content type="html"><![CDATA[<h2 id="移位变换"><a href="#移位变换" class="headerlink" title="移位变换"></a>移位变换</h2><p><img src="%5Cimages%5CCaeser.png" class="lazyload" data-srcset="%5Cimages%5CCaeser.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Encry</span><span class="params">(<span class="keyword">char</span> * S, <span class="keyword">int</span> K, <span class="keyword">int</span> model)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(model == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(S); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(S[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; S[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S[i] = (S[i] - <span class="string">&#x27;a&#x27;</span> + K) % <span class="number">26</span> + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(S[i] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; S[i] &lt;= <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S[i] = (S[i] - <span class="string">&#x27;A&#x27;</span> + K) %<span class="number">26</span> + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;加密后的密文为:\n&quot;</span>&lt;&lt;S&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Decry</span><span class="params">(<span class="keyword">char</span> * S, <span class="keyword">int</span> K, <span class="keyword">int</span> model)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(model == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(S); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(S[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; S[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S[i] = (S[i] - <span class="string">&#x27;a&#x27;</span> - K + <span class="number">26</span>) % <span class="number">26</span> + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(S[i] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; S[i] &lt;= <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S[i] = (S[i] - <span class="string">&#x27;A&#x27;</span> - K + <span class="number">26</span>) %<span class="number">26</span> + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;加密后的密文为:\n&quot;</span>&lt;&lt;S&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> S[MAX];</span><br><span class="line"><span class="keyword">int</span> k;</span><br><span class="line"><span class="keyword">int</span> model;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请选择模式:\n&quot;</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;1.加密\n&quot;</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;2.解密\n&quot;</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;3.退出\n&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;model;</span><br><span class="line"><span class="keyword">switch</span>(model)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入需要加密的明文：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;S;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入偏移量：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">Encry(S,k,model);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入需要解密的密文：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;S;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入偏移量：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">Decry(S,k,model);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> &#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="仿射变换"><a href="#仿射变换" class="headerlink" title="仿射变换"></a>仿射变换</h2><p><img src="%5Cimages%5Cfangshe.png" class="lazyload" data-srcset="%5Cimages%5Cfangshe.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 26 </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">FILE *fp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span> <span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> p = a, q = n;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> z = q/p;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="number">1</span> &amp;&amp; q!=<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> t = p;</span><br><span class="line">p = q % p;</span><br><span class="line">q = t;</span><br><span class="line">t = y;</span><br><span class="line">y = x - y * z;</span><br><span class="line">x = t;</span><br><span class="line">z = q/p;</span><br><span class="line">&#125;</span><br><span class="line">y %= n;</span><br><span class="line"><span class="keyword">if</span> (y &lt; <span class="number">0</span>) y+=n;</span><br><span class="line"><span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Encry</span> <span class="params">(<span class="keyword">char</span> * str, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> model)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">fp = fopen (<span class="string">&quot;text1Encry.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(model == <span class="number">1</span> || model == <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(str); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (str[i] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; str[i] &lt;=<span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[i] = ((a*(str[i]-<span class="string">&#x27;A&#x27;</span>)+b) % N) + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (str[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; str[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[i] = ((a*(str[i]-<span class="string">&#x27;a&#x27;</span>)+b) % N) + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;加密后的密文为:\n&quot;</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Decry</span> <span class="params">(<span class="keyword">char</span> * str, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> model)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">fp = fopen (<span class="string">&quot;text2Decry.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> _a;</span><br><span class="line">_a = gcd (a , N);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;_a&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">if</span>(model == <span class="number">2</span> || model == <span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(str); i++)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (str[i] &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; str[i] &lt;=<span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[i] = ((_a*(str[i]-<span class="string">&#x27;A&#x27;</span> - b + N)) % N) + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (str[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; str[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[i] = ((_a*(str[i]-<span class="string">&#x27;a&#x27;</span>- b + N)) % N) + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">fputc (str[i], fp);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;解密后的明文为：\n&quot;</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> str[MAX];</span><br><span class="line"><span class="keyword">int</span> a, b, model;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请选择模式：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;1.加密：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;2.解密：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;3.文件加密：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;4.文件解密：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;5.退出：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;model;</span><br><span class="line"><span class="keyword">switch</span> (model)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入需要加密的密文：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入a&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入b&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">Encry (str, a, b, model);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入需要解密的明文：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入a&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入b&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">Decry (str, a, b, model); </span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">fp = fopen(<span class="string">&quot;text1.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(fp)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ch = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (!feof(fp))</span><br><span class="line">&#123;</span><br><span class="line">ch = fgetc(fp);</span><br><span class="line"><span class="keyword">if</span> (ch == EOF)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">str[i] = ch;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入a&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入b&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">Encry (str, a, b, model);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">fp = fopen(<span class="string">&quot;text2.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(fp)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ch = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (!feof(fp))</span><br><span class="line">&#123;</span><br><span class="line">ch = fgetc(fp);</span><br><span class="line"><span class="keyword">if</span> (ch == EOF)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">str[i] = ch;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入a&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入b&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">Decry (str, a, b, model);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;移位变换&quot;&gt;&lt;a href=&quot;#移位变换&quot; class=&quot;headerlink&quot; title=&quot;移位变换&quot;&gt;&lt;/a&gt;移位变换&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;%5Cimages%5CCaeser.png&quot; class=&quot;lazyload&quot; data-srcset</summary>
      
    
    
    
    <category term="算法" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="移位变换" scheme="http://example.com/tags/%E7%A7%BB%E4%BD%8D%E5%8F%98%E6%8D%A2/"/>
    
    <category term="仿射变换" scheme="http://example.com/tags/%E4%BB%BF%E5%B0%84%E5%8F%98%E6%8D%A2/"/>
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>网规笔记（二）</title>
    <link href="http://example.com/2019/09/04/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://example.com/2019/09/04/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2019-09-04T01:20:30.000Z</published>
    <updated>2021-01-22T04:26:32.386Z</updated>
    
    <content type="html"><![CDATA[<h2 id="TCP-IP-ISO-OSI协议族"><a href="#TCP-IP-ISO-OSI协议族" class="headerlink" title="TCP/IP ISO/OSI协议族"></a>TCP/IP ISO/OSI协议族</h2><p>ISO/OSI模型 应用层： 表示层： 会话层： 传输层： 网络层： 数据链路层： 物理层： </p><p>TCP/IP模型 应用层：FTP,telnet,SMTP,NFS,SNMP 传输层：TCP,UDP 网际层：IP,ICMP,ARP,RARP 网络接口层:</p><p>ip数据:46-1500<br>ip头部字节数:20<br>16位标识位：用于标识分段，分片<br>三位标志位：最后分片的位<br>三次握手，四次挥手</p><h2 id="PPP协议"><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h2><p>PPP:LCP（链路控制协议）,NCP（网络控制协议）,PPP扩展协议。<br>PPP六个阶段:<br>1.链路不可用阶段：初始阶段，<br>2.链路建立阶段：LCP协商<br>3.验证阶段：PAP(两次握手明文传输口令)/CHAP验证（三次握手，密文传输口令）<br>4.网络层协议阶段：**NCP协商<br>5.PPP会话维持阶段：维持PPP会话，定时发送Echo Request报文，并等待Echo Reply报文<br>6.网络终止阶段：终止PPP会话，回到链路不可用阶段。<br>protocol:</p><ul><li>0x8021:网络控制数据NCP</li><li>0xC021:链路控制数据LCP</li><li>0xC023:安全性认证PAP</li><li>0xC223：安全性认证CHAP</li></ul><h2 id="网络测试和故障排除"><a href="#网络测试和故障排除" class="headerlink" title="网络测试和故障排除"></a>网络测试和故障排除</h2><p>网络主动测试：</p><ul><li>测量结点</li><li>中心服务器</li><li>中心数据库</li><li>分析服务器<br>被动检测：</li><li>流量镜像(Sniffer)<br>对端到端的时延，丢包，时延变化等参数比较适合于进行主动测量；而对于路径吞吐量等流量参数来说，被动测量则更适用。因此，对网络性能进行全面的测量需要主动测量与被动测量相结合，并对两种测量结果进行对比和分析，以获得更为全面科学的结论。<br>双绞线指标：衰减，近端串扰，直流电阻，特性阻抗，衰减串扰比，电缆特性。<br>光缆线路故障定位：先外部、后传输。<br>光缆线路的常见障碍现象及原因：</li><li>线路全部中断</li><li>个别系统通信质量下降<br>确定线路障碍后，用OTDR（光时域反射仪）对线路测试，以确定障碍的性质和部位。<br>电缆故障定位仪，是一套综合性的电缆故障探测仪器，它能对电缆的高阻闪络故障，高低阻性的接地，短路和电缆的断线，接触不良等故障进行测试。</li><li>时域反射测量法（TDR）：波形对比</li><li>电弧反射法</li></ul><h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><p>IPv6：地址长度为128b，是IPv4地址长度的4倍。<br>三种表示方法：</p><ul><li><p>冒分十六进制表示法</p></li><li><p>0位压缩表示法（只能有一个::）</p></li><li><p>内嵌IPv4地址表示法</p><p>IPv6三种地址类型：</p><p><img src="%5Cimages%5CIPv6Address_type.png" class="lazyload" data-srcset="%5Cimages%5CIPv6Address_type.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li></ul><p>IPv4过渡到IPv6：</p><ul><li>IPv6/IPv4双协议栈技术</li><li>隧道技术</li><li>网络地址转换技术</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;TCP-IP-ISO-OSI协议族&quot;&gt;&lt;a href=&quot;#TCP-IP-ISO-OSI协议族&quot; class=&quot;headerlink&quot; title=&quot;TCP/IP ISO/OSI协议族&quot;&gt;&lt;/a&gt;TCP/IP ISO/OSI协议族&lt;/h2&gt;&lt;p&gt;ISO/OSI模型 </summary>
      
    
    
    
    <category term="网规笔记" scheme="http://example.com/categories/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="PPP" scheme="http://example.com/tags/PPP/"/>
    
    <category term="IPv6" scheme="http://example.com/tags/IPv6/"/>
    
  </entry>
  
  <entry>
    <title>NF学习笔记</title>
    <link href="http://example.com/2019/09/03/NF%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2019/09/03/NF%E7%AC%94%E8%AE%B0/</id>
    <published>2019-09-03T11:03:25.000Z</published>
    <updated>2021-01-22T04:26:32.356Z</updated>
    
    <content type="html"><![CDATA[<p>访问控制，类似于acl<br>传统防火墙：基于端口的访问控制已经过时<br>UTM：有下一代防火墙的功能，单个模块。而下一代防火墙则将这些模块组合在一起<br>除了上一代防火墙的功能，还有应用流量控制等功能<br>三大核心价值观：安全，稳定，易用<br>双引擎：基础转发功能和七层安全功能隔离。<br>NF特点：</p><ul><li>无线热点发现</li><li>资产管理</li><li>事件关联分析</li><li>安全远程运维方案:通过防火墙远程登录堡垒机，方便运维</li><li>智能补丁方案</li><li>终端安全检查解决：终端发现的病毒可以发送给NF，NF对其进行管控</li><li>未知威胁防护：与TAC联动</li><li>云清洗联动方案：DDOS防护，与绿盟云连接</li><li>混合模式部署：<ul><li>路由模式</li><li>透明模式</li></ul></li><li>多出口的网络环境</li><li>多级或者VPN部署</li><li>高可用性：HA部署（双机冗余）</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;访问控制，类似于acl&lt;br&gt;传统防火墙：基于端口的访问控制已经过时&lt;br&gt;UTM：有下一代防火墙的功能，单个模块。而下一代防火墙则将这些模块组合在一起&lt;br&gt;除了上一代防火墙的功能，还有应用流量控制等功能&lt;br&gt;三大核心价值观：安全，稳定，易用&lt;br&gt;双引擎：基础转发功能</summary>
      
    
    
    
    <category term="网规笔记" scheme="http://example.com/categories/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="NF" scheme="http://example.com/tags/NF/"/>
    
    <category term="访问控制" scheme="http://example.com/tags/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>网规笔记（一）</title>
    <link href="http://example.com/2019/09/03/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://example.com/2019/09/03/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2019-09-03T11:03:25.000Z</published>
    <updated>2021-01-22T04:26:32.378Z</updated>
    
    <content type="html"><![CDATA[<p>旁路部署：把流量镜像到设备中。</p><p>两种磁盘类型：<br>SAS：高传输速率，磁盘性能高。支持双向全双工模式，为同时发生的读写操作提供了两路活动通道。<br>SATA：大容量存储，磁盘性能较低，提供单通道和半双工模式<br>相同点：均采用串行技术。采用并行接口时，传输数据和信号的总线是复用的，传输速率会到一定限制。若提高传输速率，那么传输的数据和信号往往会产生干扰，导致错误。</p><p>磁盘阵列（RAID）：<br>1.Raid0模式<br>RAID0连续以位或字节为单位分割数据，并行读、写于多个磁盘上，因此具有很高的传输速率，但它没有数据冗余，因此不算是真正的RAID结构。RAID0知识单纯地提高性能，并没有为数据的可靠性做保证，而且其中的一个磁盘失效将影响到所有数据。<br>优点：在raid0状态下，存储数据被分割成两部分，分别存储在两块硬盘上，此时移动硬盘的理论存储速度是单块硬盘的2倍，实际容量等于两块硬盘中最小的一块的2倍。<br>缺点：任何一块硬盘发生故障，整个raid上的数据将不可恢复。备注：存储高清电影比较适合。</p><p>2.raid1模式<br>它是通过磁盘数据镜像实现数据冗余，在成对的独立磁盘上产生护卫备份的数据。当原始数据繁忙时，可直接从镜像拷贝中读取数据，因此RAID1可以提高读取性能。RAID1是磁盘阵列中单位成本最高的，但提供了很高的数据安全性和可用性，当一个磁盘失效时，系统可以自动切换到镜像磁盘上读写，而不需要重组失效的数据<br>优点：此模式下，两块硬盘互为镜像。当一个硬盘受损时，换上一块全新的硬盘（大于或者等于原来硬盘容量）替代原硬盘即可自动恢复资料和继续使用，<br>移动硬盘的实际容量等于较小一块硬盘的容量，存储速度与单块硬盘相同。raid1的优势在于任何一块硬盘出现故障时，所存储的数据都不会丢失。<br>缺点 ：该模式可使用的硬盘实际容量比较小，仅仅为两颗硬盘中最小硬盘的容量。</p><p>3raid5模式：<br>是把多个（最少3个）硬盘合并成1个逻辑盘使用，读写数据时会建立奇偶校验信息并且奇偶校验信息和相对应的数据分别存储于不同磁盘上。当RAID5的一个磁盘数据发生损坏后，利用剩下的数据和相应的奇偶校验信息去恢复被损坏的数据。<br>相当于raid0和raid1的综合。</p><p>radio10就是raid1+raid0,比较适合速度要求高，又要完全容错，当然价格昂贵，最少需要4块硬盘（做raid10时要先做RAID1，再把数个RAID1做成RAID0，这样比先做raid0，再做raid1有更高的可靠性），虽然raid10方案造成50%的磁盘浪费，但是它提供了200%的速度和单磁盘损坏的数据安全性。</p><p>常用虚拟化实现方式：</p><ul><li>一台虚拟多台</li><li>多台虚拟多台</li></ul><p>常用存储方式：<br>1、SAN存储 （存储区域网络Storage Area Network）<br> IP-SAN：</p><ul><li>成本低廉，购买的网线和交换机都是用以太网，甚至可以利用现有网络组建SAN；</li><li>部署简单，管理难度低；</li><li>万兆以太网的出现使得IP SAN在与FC SAN竞争时不再逊色于传输带宽；</li><li>基于IP网络的天生优势使得IP SAN很容易实现异地存储、远程容灾等穿越WAN才能实现的技术<br>FC-SAN：<br>早期的SAN采用的是光纤通道（FC，Fibre Channel）技术，所以，以前的SAN多指采用光纤通道的存储局域网络，业内称为FCSAN。<br>FCSAN优势：</li><li>传输带宽高，目前有1,2,4和8Gb/s四种标准，主流的是4和8Gb/s</li><li>性能稳定可靠，技术成熟，是关键应用领域和大规模存储网络的不二选择。<br>FCSAN缺点：</li><li>成本极其高昂，需要光纤交换机和大量的光纤布线；</li><li>维护及配置复杂，需要培训完全不同于LAN管理员的专业FC网络管理员。</li></ul><p>2、NAS（Network Attached Storage）网络附加存储。在NAS存储结构中，存储系统不再通过I/O总线附属于某个服务器或客户机，而直接通过网络接口与网络直接相连，由用户通过网络直连。<br>NAS实际上是一个带有瘦服务器的存储设备，其作用类似于一个专用的文件服务器。 这种专用存储服务器去掉了通用服务器原有的不适用的大多数计算功能，而仅仅提供文件系统功能。与传统服务器为中心的存储系统相比，数据不再通过服务器内存转发，直接在客户机和存储设备间传送，服务器仅起控制管理的作用。<br>NAS的特点：</p><ul><li>NAS使用了传统以太网协议，当进行文件共享时。则利用了NFS和CIFS以沟通NTH和Unix系统。由于NFS和CIFS都是基于操作系统的文件共享协议，所以NAS的性能特点是进行小文件的共享存取。</li><li>NAS设备是直接连接到以太网的存储器，并以标准网络文件系统如NFS，SMB/CIFS over TCP/IP接口向客户端提供文件服务。NAS设备向客户提供文件级的服务。但内部依然是以数据块的层面与它的设备进行通讯。文件系统是在这个NAS存储器里。<br>NAS的优点：</li><li>NAS适用于那些需要通过网络文件数据传送到多台客户机上的用户。NAS设备在数据必须长距离传送的环境中可以很好地发挥作用。</li><li>NAS设备非常容易部署。可以使NAS主机、客户机和其他设备广泛分布在整个企业的网络环境中。NAS可以提供可靠的文件级数据整合，因为文件锁定是由设备自身来处理的。</li><li>NAS 应用于高效的文件共享任务中，例如UNIX中的NFS和Windows NT中的CIFS，其中基于网络的文件锁定提供了高级并发访问保护的功能。</li></ul><p>3、DAS<br>DAS（Direct Attached Storage）直接附加存储，直接附加存储是指将存储设备通过总线（SCSI、PCI、IDE等）接口直接连接到一台服务器上使用。DAS购置成本低，配置简单，因此对于小型企业很有吸引力。</p><p>DAS存在问题：</p><ul><li>服务器本身容易成为系统瓶颈。</li><li>服务器发生故障，数据不可访问。</li><li>对于存在多个服务器的系统来说，设备分散，不便管理。同时多台服务器使用DAS时，存储空间不能在服务器之间动态分配，可能造成相当的资源浪费。</li><li>数据备份操作复杂。</li><li>四、总结<br>FC-SAN，IP-SAN，NAS，DAS区别<br><img src="/images/form1.png" class="lazyload" data-srcset="/images/form1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;旁路部署：把流量镜像到设备中。&lt;/p&gt;
&lt;p&gt;两种磁盘类型：&lt;br&gt;SAS：高传输速率，磁盘性能高。支持双向全双工模式，为同时发生的读写操作提供了两路活动通道。&lt;br&gt;SATA：大容量存储，磁盘性能较低，提供单通道和半双工模式&lt;br&gt;相同点：均采用串行技术。采用并行接口时，</summary>
      
    
    
    
    <category term="网规笔记" scheme="http://example.com/categories/%E7%BD%91%E8%A7%84%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="SAS SATA" scheme="http://example.com/tags/SAS-SATA/"/>
    
    <category term="Raid" scheme="http://example.com/tags/Raid/"/>
    
  </entry>
  
  <entry>
    <title>java文件处理</title>
    <link href="http://example.com/2018/12/18/java%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2018/12/18/java%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/</id>
    <published>2018-12-18T10:41:14.000Z</published>
    <updated>2021-01-22T04:26:32.349Z</updated>
    
    <content type="html"><![CDATA[<p>java文件操作是每个java程序必不可少的，在编写java程序中显得颇为重要。在学习完文件操作后，由于很多概念确实容易混淆，所以在这里总结一下以便以后使用，如有不对，还望多批评指正。<br>图片来自网上大佬，觉得概括得挺详细的。<br><img src="/images/3.jpg" class="lazyload" data-srcset="/images/3.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><h2 id="按照字节流的方式读取文件中的数据（InputStream）"><a href="#按照字节流的方式读取文件中的数据（InputStream）" class="headerlink" title="按照字节流的方式读取文件中的数据（InputStream）"></a>按照字节流的方式读取文件中的数据（InputStream）</h2><p>字节输入流类InputStream用于以字节形式从数据源中读取数据，它是所有字节输入流类的父类<br>如其子类BufferedInputStream是一个非常有用的类，可以缓冲输入的类。但是在使用完之后，一定要将该缓冲输入关闭，字节输出流也是同样。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemIOExample2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">// 定义一个文件输入流对象，其内容源自d:\\test.txt</span></span><br><span class="line">        FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;d:\\test.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 定义一个缓冲流对象，其内容来自文件</span></span><br><span class="line">        BufferedInputStream bufin = <span class="keyword">new</span> BufferedInputStream(in);</span><br><span class="line">        <span class="comment">// 定义一个缓冲流对象，其内容来自键盘输入</span></span><br><span class="line">        BufferedInputStream keyin = <span class="keyword">new</span> BufferedInputStream(System.in);</span><br><span class="line">        <span class="comment">// 定义两个字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] b1 = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">byte</span>[] b2 = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">// 将从文件中读取的数据放入字节数组b1内，num1为读入的字节个数</span></span><br><span class="line">        <span class="keyword">int</span> num1 = bufin.read(b1);</span><br><span class="line">        <span class="comment">// 将字节数组转换成字符串</span></span><br><span class="line">        String str1 = <span class="keyword">new</span> String(b1, <span class="number">0</span>, num1);</span><br><span class="line">        System.out.println(str1);</span><br><span class="line">        <span class="comment">// 关闭缓冲输入流，同时关闭了文件</span></span><br><span class="line">        bufin.close();</span><br><span class="line">        <span class="comment">// 将从键盘输入读取的数据放入字节数组b1内,num2为读入的字节个数</span></span><br><span class="line">        <span class="keyword">int</span> num2 = keyin.read(b2);</span><br><span class="line">        <span class="comment">// 将字节数组转换成字符串</span></span><br><span class="line">        String str2 = <span class="keyword">new</span> String(b2, <span class="number">0</span>, num2);</span><br><span class="line">        System.out.println(str2);</span><br><span class="line">        <span class="comment">// 关闭缓冲输入流，同时关闭了文件</span></span><br><span class="line">        keyin.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="用字节输出流将数据写入目的地（OutputStream）"><a href="#用字节输出流将数据写入目的地（OutputStream）" class="headerlink" title="用字节输出流将数据写入目的地（OutputStream）"></a>用字节输出流将数据写入目的地（OutputStream）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemIOExample3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">// 创建文件输出流对象，其目标为d:\test.txt文件，如果该</span></span><br><span class="line">        <span class="comment">// 文件存在，则删除并新建该文件，否则将新建该文件</span></span><br><span class="line">        FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;d:\\test.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//创建缓冲输出字节流对象</span></span><br><span class="line">        BufferedOutputStream out_buffer = <span class="keyword">new</span> BufferedOutputStream(out);</span><br><span class="line">        <span class="comment">// 要写入文件的内容</span></span><br><span class="line">        String s = <span class="string">&quot;These will be writed to d:\\test.txt&quot;</span>;</span><br><span class="line">        <span class="comment">// 将字符串s的内容以字节形式写入缓存区buffer_out。实际上，也就间接</span></span><br><span class="line">        <span class="comment">// 写入到了d:\\test.txt文件中,getBytes()为String类的方法，其</span></span><br><span class="line">        <span class="comment">// 作用是将字符串转化为字节数组</span></span><br><span class="line">        out_buffer.write(s.getBytes());</span><br><span class="line">        <span class="comment">// 关闭缓冲流</span></span><br><span class="line">        out_buffer.close();</span><br><span class="line">        <span class="comment">// 创建文件输入流对象，其内容源自文件 d:\\test.txt</span></span><br><span class="line">        FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;d:\\test.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建缓冲输入流对象</span></span><br><span class="line">        BufferedInputStream in_buffer = <span class="keyword">new</span> BufferedInputStream(in);</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">// 将数据读入字节数组b内，num为读入的字节个数</span></span><br><span class="line">        <span class="keyword">int</span> num = in_buffer.read(b);</span><br><span class="line">        <span class="comment">// 将字节数组转换为字符串</span></span><br><span class="line">        String str1 = <span class="keyword">new</span> String(b, <span class="number">0</span>, num);</span><br><span class="line">        System.out.println(str1);</span><br><span class="line">        in_buffer.close();  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字符输入流类Reader"><a href="#字符输入流类Reader" class="headerlink" title="字符输入流类Reader"></a>字符输入流类Reader</h2><p>字符输入类Reader用于以字符形式从数据源中读取数据，其主要派生子类包括InputStreanReader(读取字节数据并将其解码为字符)、FileReader(用来读取字符文件的内容)、BufferedReader(从字符输入流中读取文本，缓存各个字符)。<br>利用InputStreamReader和BufferedReader类输入数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemIOExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 使用System.in构造InputStreamReader对象iin</span></span><br><span class="line">        <span class="comment">// 该对象用来从键盘读入一个单字节字符</span></span><br><span class="line">        InputStreamReader iin = <span class="keyword">new</span> InputStreamReader(System.in);</span><br><span class="line">        <span class="comment">// 利用iin对象来构造BufferedReader对象stdin</span></span><br><span class="line">        <span class="comment">// 该对象用来从字符输入流中读取文本到缓冲区</span></span><br><span class="line">        BufferedReader stdin = <span class="keyword">new</span> BufferedReader(iin);</span><br><span class="line">        <span class="comment">// 读取并输出字符串</span></span><br><span class="line">        System.out.println(<span class="string">&quot;请输入一个字符串&quot;</span>);</span><br><span class="line">        System.out.println(stdin.readLine());</span><br><span class="line">        <span class="keyword">boolean</span> dataRight = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 读取字符串并转换成double类型输出</span></span><br><span class="line">                System.out.println(<span class="string">&quot;请输入一个浮点数&quot;</span>);</span><br><span class="line">                <span class="comment">// 将字符串解析为带符号的double类型数据。如果数据无效，则产生一个NumberFormatException异常</span></span><br><span class="line">                <span class="keyword">double</span> numberx = Double.parseDouble(stdin.readLine());</span><br><span class="line">                System.out.println(numberx);</span><br><span class="line">                dataRight = <span class="keyword">false</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;数据无效，请重新输入&quot;</span> + e);</span><br><span class="line">                dataRight = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">while</span> (dataRight = <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按照字符流方法将数据写入文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ioInJava.characterStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Writer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharIo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 定义一个d盘根目录下的test文档，File.separator是分隔符</span></span><br><span class="line">        <span class="comment">// 下面这句代码，就算原本没有这个文件，也会在对应的目录创建一个文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;D:&quot;</span> + File.separator + <span class="string">&quot;test.docx&quot;</span>);</span><br><span class="line">        <span class="comment">// 下面这也会抛出异常，这次我们为了代码结构清晰起见，直接throw给main吧</span></span><br><span class="line">        Writer writer = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">        String string = <span class="string">&quot;hello world！&quot;</span>;</span><br><span class="line">        writer.write(string);</span><br><span class="line">        <span class="comment">// 在这一定要记得关闭流</span></span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按照字符流的方法从文件中读取数据,如要读取任意个字符数数量的文件，则可定义char[] cs = new char[(int)file.length()]。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ioInJava.characterStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.Reader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadFromFile</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;d:&quot;</span> + File.separator + <span class="string">&quot;test.docx&quot;</span>);</span><br><span class="line">        Reader reader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">        <span class="keyword">char</span>[] cs= <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">// 上面定义了一个大小为1024的char型数组，如果文件内容过大，程序就会报错，而不是只读到1024的大小</span></span><br><span class="line">        reader.read(cs, <span class="number">0</span>, (<span class="keyword">int</span>)file.length());</span><br><span class="line">        System.out.println(cs);</span><br><span class="line">        reader.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;java文件操作是每个java程序必不可少的，在编写java程序中显得颇为重要。在学习完文件操作后，由于很多概念确实容易混淆，所以在这里总结一下以便以后使用，如有不对，还望多批评指正。&lt;br&gt;图片来自网上大佬，觉得概括得挺详细的。&lt;br&gt;&lt;img src=&quot;/images/</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="文件处理" scheme="http://example.com/tags/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/"/>
    
    <category term="流" scheme="http://example.com/tags/%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>迷失</title>
    <link href="http://example.com/2018/12/17/%E8%BF%B7%E5%A4%B1/"/>
    <id>http://example.com/2018/12/17/%E8%BF%B7%E5%A4%B1/</id>
    <published>2018-12-17T10:14:23.000Z</published>
    <updated>2021-01-22T04:26:32.396Z</updated>
    
    <content type="html"><![CDATA[<p>谨以此文警醒停止追寻的自己，生而为人二十余年，一路追寻，一路迷失。人是这样易变，怎样做到不忘初心。小时候喜爱吃糖，觉得长大一定要挣好多好多钱用来买糖，可是现在买糖的钱有了，却也没有当初那份喜爱。后来又有很多很多想要的东西，可是当我们有能力去满足时，却发现那些东西早已不能给我们带来任何满足。我们一直在努力，却终究一无所得。年龄一直在增长，但是自己所拥有的财富也好，知识也罢，都无所长进。已经错过的，不再斤斤计较，以后的日子很长很远，要学会爱上自己。</p><p><img src="/images/2.jpg" class="lazyload" data-srcset="/images/2.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;谨以此文警醒停止追寻的自己，生而为人二十余年，一路追寻，一路迷失。人是这样易变，怎样做到不忘初心。小时候喜爱吃糖，觉得长大一定要挣好多好多钱用来买糖，可是现在买糖的钱有了，却也没有当初那份喜爱。后来又有很多很多想要的东西，可是当我们有能力去满足时，却发现那些东西早已不能给我</summary>
      
    
    
    
    <category term="随笔" scheme="http://example.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>杭电OJ2000-2010java解答</title>
    <link href="http://example.com/2018/11/23/%E6%9D%AD%E7%94%B5OJ2000-2010%E8%A7%A3%E7%AD%94/"/>
    <id>http://example.com/2018/11/23/%E6%9D%AD%E7%94%B5OJ2000-2010%E8%A7%A3%E7%AD%94/</id>
    <published>2018-11-23T11:03:25.000Z</published>
    <updated>2021-01-22T04:26:32.362Z</updated>
    
    <content type="html"><![CDATA[<p>都是一些最基础的算法题，固然很简单，但是自己一道一道的做下来，也能学到一些东西。通过做这些题目，也大概了解OJ题目的解答规范，也是受益匪浅。<br>杭电OJ2000题-ASCII码排序</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] arr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">3</span>];</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            String str = in.nextLine();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                arr[i] = str.charAt(i);</span><br><span class="line">            &#125;</span><br><span class="line">            Arrays.sort(arr);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                System.out.print((i == <span class="number">2</span>) ? (arr[i]) : (arr[i] + <span class="string">&quot; &quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2001-计算两点间的距离</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[] d = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">4</span>];</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(<span class="keyword">new</span> BufferedInputStream(System.in));</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                d[i] = in.nextDouble();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">double</span> tp = Math.sqrt((d[<span class="number">2</span>] - d[<span class="number">0</span>]) * (d[<span class="number">2</span>] - d[<span class="number">0</span>]) + (d[<span class="number">3</span>] - d[<span class="number">1</span>]) * (d[<span class="number">3</span>] - d[<span class="number">1</span>]));</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.2f&quot;</span>, tp);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2002-计算球体体积</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.1415927</span>;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">double</span> r = in.nextDouble();</span><br><span class="line">            <span class="keyword">double</span> volume = PI * r * r * r * (<span class="keyword">double</span>) <span class="number">4</span> / (<span class="keyword">double</span>) <span class="number">3</span>;</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.3f&quot;</span>, volume);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2003-求绝对值</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">double</span> n = in.nextDouble();</span><br><span class="line">            <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                n = -n;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.2f&quot;</span>, n);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2004-成绩转换</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> score=in.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(score&gt;=<span class="number">90</span>&amp;&amp;score&lt;=<span class="number">100</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(score&gt;=<span class="number">80</span>&amp;&amp;score&lt;<span class="number">90</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(score&gt;=<span class="number">70</span>&amp;&amp;score&lt;<span class="number">80</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(score&gt;=<span class="number">60</span>&amp;&amp;score&lt;<span class="number">70</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(score&gt;=<span class="number">0</span>&amp;&amp;score&lt;<span class="number">60</span>)</span><br><span class="line">                System.out.println(<span class="string">&quot;E&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                System.out.println(<span class="string">&quot;Score is error!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2005-第几天？<br>该题使用split对日期格式进行解析，然后将年月日存到数组中去，再遍历统计天数，。这是我对这道题目的思路，但是不知道什么原因，未能通过OJ的测试，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HDOJ2005</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] s = &#123; <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span> &#125;;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            String str = in.nextLine();</span><br><span class="line">            String[] date = str.split(<span class="string">&quot;/&quot;</span>); <span class="comment">// 解析日期</span></span><br><span class="line">            <span class="keyword">int</span> y = Integer.parseInt(date[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">int</span> m = Integer.parseInt(date[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">int</span> d = Integer.parseInt(date[<span class="number">2</span>]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m - <span class="number">1</span>; i++)</span><br><span class="line">                num += s[i];</span><br><span class="line">            <span class="keyword">if</span> (y % <span class="number">400</span> == <span class="number">0</span> || (y % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; y % <span class="number">100</span> != <span class="number">0</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (m &gt; <span class="number">2</span>)</span><br><span class="line">                    num += d + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    num += d;</span><br><span class="line">            &#125; <span class="keyword">else</span></span><br><span class="line">                num += d;</span><br><span class="line">            System.out.println(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>已通过测试的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String args[])</span></span>&#123;</span><br><span class="line">    Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">    <span class="keyword">while</span>(sc.hasNext())&#123;</span><br><span class="line">        String str = sc.nextLine();  </span><br><span class="line">        String[] date = str.split(<span class="string">&quot;/&quot;</span>); <span class="comment">//解析出 年 月 日</span></span><br><span class="line">        <span class="keyword">int</span> n = Integer.parseInt(date[<span class="number">0</span>]);  </span><br><span class="line">        <span class="keyword">int</span> y = Integer.parseInt(date[<span class="number">1</span>]);  </span><br><span class="line">        <span class="keyword">int</span> r = Integer.parseInt(date[<span class="number">2</span>]);  </span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">switch</span>(y)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span> : t+=r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>: t+=<span class="number">31</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>: t+=<span class="number">59</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>: t+=<span class="number">90</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">5</span>: t+=<span class="number">120</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">6</span>: t+=<span class="number">151</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">7</span>: t+=<span class="number">181</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">8</span>: t+=<span class="number">212</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">9</span>: t+=<span class="number">243</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">10</span>: t+=<span class="number">273</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">11</span>: t+=<span class="number">304</span>+r;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">12</span>: t+=<span class="number">334</span>+r;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>((n%<span class="number">400</span>==<span class="number">0</span>||(n%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;n%<span class="number">100</span>!=<span class="number">0</span>))&amp;&amp;y&gt;<span class="number">2</span>)</span><br><span class="line">        System.out.println(t+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> System.out.println(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2006-求奇数的乘积</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> num = in.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[] s = <span class="keyword">new</span> <span class="keyword">int</span>[num];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;s.length; i++) &#123;</span><br><span class="line">                s[i] = in.nextInt();</span><br><span class="line">                <span class="keyword">if</span>(s[i]%<span class="number">2</span>!=<span class="number">0</span>) &#123;</span><br><span class="line">                    sum*=s[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(sum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2007-平方和与立方和</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>, temp;</span><br><span class="line">            <span class="keyword">int</span> n = in.nextInt();</span><br><span class="line">            <span class="keyword">int</span> m = in.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (n &gt; m) &#123;</span><br><span class="line">                temp = n;</span><br><span class="line">                n = m;</span><br><span class="line">                m = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (; n &lt;= m; n++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    sum1 += n * n;</span><br><span class="line">                &#125; <span class="keyword">else</span></span><br><span class="line">                    sum2 += n * n * n;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(sum1 + <span class="string">&quot; &quot;</span> + sum2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2008-数值统计</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = in.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> count1 = <span class="number">0</span>, count2 = <span class="number">0</span>, count3 = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= num - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">double</span> number = in.nextDouble();</span><br><span class="line">                    <span class="keyword">if</span> (number &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                        count1 += <span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">                        count2 += <span class="number">1</span>;</span><br><span class="line">                    &#125; </span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(number&gt;<span class="number">0</span>)</span><br><span class="line">                        count3 += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(count1 + <span class="string">&quot; &quot;</span> + count2 + <span class="string">&quot; &quot;</span> + count3);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2009-求数列的和</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">double</span> sum=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">double</span> n=in.nextDouble();</span><br><span class="line">            <span class="keyword">int</span> m=in.nextInt();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++) &#123;</span><br><span class="line">                sum+=n;</span><br><span class="line">                n=Math.sqrt(n);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.2f&quot;</span>,sum);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>杭电OJ2010-水仙花数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span> m;</span><br><span class="line">        <span class="keyword">int</span>[] s = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000</span>];</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">            n = in.nextInt();</span><br><span class="line">            m = in.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (n &gt; m) &#123;</span><br><span class="line">                <span class="keyword">int</span> temp = n;</span><br><span class="line">                n = m;</span><br><span class="line">                m = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt;= m; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> a = i % <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">int</span> b = i % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">int</span> c = i / <span class="number">100</span>;</span><br><span class="line">                <span class="keyword">if</span> (a * a * a + b * b * b + c * c * c == i) &#123;</span><br><span class="line">                    s[j++] = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= j - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; j - <span class="number">1</span>) &#123;</span><br><span class="line">                    System.out.print(s[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span></span><br><span class="line">                    System.out.println(s[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;都是一些最基础的算法题，固然很简单，但是自己一道一道的做下来，也能学到一些东西。通过做这些题目，也大概了解OJ题目的解答规范，也是受益匪浅。&lt;br&gt;杭电OJ2000题-ASCII码排序&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;t</summary>
      
    
    
    
    <category term="算法" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="算法入门" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/"/>
    
    <category term="杭电OJ" scheme="http://example.com/tags/%E6%9D%AD%E7%94%B5OJ/"/>
    
  </entry>
  
  <entry>
    <title>Collection和Iterator接口</title>
    <link href="http://example.com/2018/11/10/Collection%E5%92%8CIterator%E6%8E%A5%E5%8F%A3/"/>
    <id>http://example.com/2018/11/10/Collection%E5%92%8CIterator%E6%8E%A5%E5%8F%A3/</id>
    <published>2018-11-10T12:56:40.000Z</published>
    <updated>2021-01-22T04:26:32.334Z</updated>
    
    <content type="html"><![CDATA[<h1 id="深入学习Collection和Iterator接口"><a href="#深入学习Collection和Iterator接口" class="headerlink" title="深入学习Collection和Iterator接口"></a>深入学习Collection和Iterator接口</h1><h2 id="Collection接口"><a href="#Collection接口" class="headerlink" title="Collection接口"></a>Collection接口</h2><p>Collection接口是List,Set和Queue接口的父接口</p><ol><li>boolean add(Object o):该方法用于向集合里添加元素，如添加成功则返回true</li><li>boolean addAll(Collection c):把集合c中所有元素添加到指定集合中，如添加成功则返回true</li><li>void clear():清除集合中所有的元素，将集合长度变为0</li><li>boolean contains(Object o):返回集合内是否包含指定元素,如果是，则返回true</li><li>boolean containsAll(Collection c):返回集合是否包含集合c内所有元素，如果是，则返回true</li><li>boolean isEmpty():判断集合是否为空，如为空，则为true</li><li>Iterator iterator():返回一个iterator，用于遍历集合里的元素</li><li>boolean remove(Object o):删除集合中的o元素，如有多个，则全被删除</li><li>boolean removeAll(Collection c):删除集合c中包含的所有元素（相当于调用该方法的集合减去集合c），如删除一个或以上的元素，则返回true</li><li>boolean retain(Collection c):在指定集合删除集合c中没有的元素（相当与指定集合和集合c取交集），如果改操作改变了调用该方法的集合，则返回true</li><li>int size():返回集合里元素的个数</li><li>Object[] toArray():把集合转化为数组，所有集合元素转换为对应的数组元素<h2 id="Iterator接口"><a href="#Iterator接口" class="headerlink" title="Iterator接口"></a>Iterator接口</h2></li><li>boolean hasNext():如果被迭代的元素还没有被遍历，则返回true</li><li>Object next():返回集合里下一个元素</li><li>void remove():删除集合里上一次next返回的元素</li></ol><p><strong>Iterator必须依附于Collection对象。有一个Iterator对象，则必然有一个与之对应的对象。</strong><br><strong>当时用Iterator来迭代Colllection元素时，Collection里的元素不能被改变。</strong></p><p>使用Iterator遍历集合元素:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestForeach</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建Collection对象</span></span><br><span class="line">        Collection books=<span class="keyword">new</span> HashSet();</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;java企业轻量级&quot;</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;人间失格&quot;</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;java入门到精通&quot;</span>));</span><br><span class="line">        Iterator it=books.iterator();   </span><br><span class="line">        <span class="keyword">while</span>(it.hasNext()) &#123;</span><br><span class="line">            String book=(String)it.next();</span><br><span class="line">            System.out.println(book);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对比使用foreach遍历集合元素:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestForeach</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建Collection对象</span></span><br><span class="line">        Collection books=<span class="keyword">new</span> HashSet();</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;java企业轻量级&quot;</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;人间失格&quot;</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> String(<span class="string">&quot;java入门到精通&quot;</span>));</span><br><span class="line">        Iterator it=books.iterator(); </span><br><span class="line">        <span class="keyword">for</span>(Object obj:books) &#123;</span><br><span class="line">            String book=(String)obj;</span><br><span class="line">            System.out.println(book);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;深入学习Collection和Iterator接口&quot;&gt;&lt;a href=&quot;#深入学习Collection和Iterator接口&quot; class=&quot;headerlink&quot; title=&quot;深入学习Collection和Iterator接口&quot;&gt;&lt;/a&gt;深入学习Collect</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="日常学习" scheme="http://example.com/tags/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Collection和Iterator接口" scheme="http://example.com/tags/Collection%E5%92%8CIterator%E6%8E%A5%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>java for循环的用法</title>
    <link href="http://example.com/2018/11/10/java-for%E5%BE%AA%E7%8E%AF%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <id>http://example.com/2018/11/10/java-for%E5%BE%AA%E7%8E%AF%E7%9A%84%E7%94%A8%E6%B3%95/</id>
    <published>2018-11-10T06:56:08.000Z</published>
    <updated>2021-01-22T04:26:32.343Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1、遍历数组的传统方法"><a href="#1、遍历数组的传统方法" class="headerlink" title="1、遍历数组的传统方法"></a>1、遍历数组的传统方法</h1><p>新建一个整形数组s，采用for循环遍历</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] s= &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> j=s[i];</span><br><span class="line">            System.out.println(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2、java-增强for循环实现数组的遍历"><a href="#2、java-增强for循环实现数组的遍历" class="headerlink" title="2、java 增强for循环实现数组的遍历"></a>2、java 增强for循环实现数组的遍历</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] s= &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i:s) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3、遍历Collection对象的传统方方法"><a href="#3、遍历Collection对象的传统方方法" class="headerlink" title="3、遍历Collection对象的传统方方法"></a>3、遍历Collection对象的传统方方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 建立一个Collection对象</span></span><br><span class="line">        String[] strings = &#123; <span class="string">&quot;H&quot;</span>, <span class="string">&quot;E&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;O&quot;</span> &#125;;</span><br><span class="line">        Collection stringList = java.util.Arrays.asList(strings);</span><br><span class="line">        <span class="comment">// Iterable接口（迭代遍历） 注：优先选择Iterator接口，遍历Collection里所有元素，</span></span><br><span class="line">        <span class="comment">// 也称为迭代器和迭代精灵；迭代是取出集合中元素的一种推荐方式。</span></span><br><span class="line">        <span class="comment">// 开始遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Iterator itr = stringList.iterator(); itr.hasNext();) &#123;</span><br><span class="line">            Object str = itr.next();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4、java-增强for循环实现遍历Collection对象"><a href="#4、java-增强for循环实现遍历Collection对象" class="headerlink" title="4、java 增强for循环实现遍历Collection对象"></a>4、java 增强for循环实现遍历Collection对象</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 建立一个Collection</span></span><br><span class="line">        String[] strings = &#123; <span class="string">&quot;H&quot;</span>, <span class="string">&quot;E&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;L&quot;</span> ,<span class="string">&quot;O&quot;</span>&#125;;</span><br><span class="line">        Collection list = java.util.Arrays.asList(strings);</span><br><span class="line">        <span class="comment">// 开始遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Object str : list) &#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1、遍历数组的传统方法&quot;&gt;&lt;a href=&quot;#1、遍历数组的传统方法&quot; class=&quot;headerlink&quot; title=&quot;1、遍历数组的传统方法&quot;&gt;&lt;/a&gt;1、遍历数组的传统方法&lt;/h1&gt;&lt;p&gt;新建一个整形数组s，采用for循环遍历&lt;/p&gt;
&lt;figure cl</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="日常学习" scheme="http://example.com/tags/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="for循环" scheme="http://example.com/tags/for%E5%BE%AA%E7%8E%AF/"/>
    
  </entry>
  
  <entry>
    <title> 欢迎回家</title>
    <link href="http://example.com/2018/10/26/About-My-Blog/"/>
    <id>http://example.com/2018/10/26/About-My-Blog/</id>
    <published>2018-10-26T03:34:51.000Z</published>
    <updated>2021-01-22T04:26:32.328Z</updated>
    
    <content type="html"><![CDATA[<p> 胡志平的个人博客创建于2018年10月26日，用于记录以后的学习心得，希望以后能一直坚持下去。</p><p> <img src="/images/insert_image1.jpg" class="lazyload" data-srcset="/images/insert_image1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; 胡志平的个人博客创建于2018年10月26日，用于记录以后的学习心得，希望以后能一直坚持下去。&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;/images/insert_image1.jpg&quot; class=&quot;lazyload&quot; data-srcset=&quot;/images/inser</summary>
      
    
    
    
    <category term="随笔" scheme="http://example.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="关于博客" scheme="http://example.com/tags/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
